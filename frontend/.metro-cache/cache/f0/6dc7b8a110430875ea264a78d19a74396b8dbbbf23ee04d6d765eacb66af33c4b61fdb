{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":54,"index":124}}],"key":"PqZcYTlMIVnzFjdViPzMiGUu7Hg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeCommunityNetinfo = require(_dependencyMap[1], \"@react-native-community/netinfo\");\n  var NetInfo = _interopDefault(_reactNativeCommunityNetinfo);\n  const CACHE_KEY_PREFIX = 'offline_cache_';\n  const SYNC_INTERVAL = 30000; // 30 seconds\n\n  class OfflineSyncManager {\n    syncInterval = null;\n    isOnline = true;\n    onStatusUpdateCallback = null;\n    constructor() {\n      this.initializeNetworkListener();\n    }\n    initializeNetworkListener() {\n      // Monitor network status\n      NetInfo.default.addEventListener(state => {\n        const wasOffline = !this.isOnline;\n        this.isOnline = state.isConnected ?? false;\n        console.log('[OfflineSync] Network status:', this.isOnline ? 'ONLINE' : 'OFFLINE');\n\n        // If we just came online, sync immediately\n        if (wasOffline && this.isOnline) {\n          console.log('[OfflineSync] Connection restored - syncing...');\n          this.syncAll();\n        }\n      });\n    }\n    async getCachedStatus(clientId) {\n      try {\n        const cached = await AsyncStorage.default.getItem(`${CACHE_KEY_PREFIX}${clientId}`);\n        if (cached) {\n          return JSON.parse(cached);\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error reading cache:', error);\n      }\n      return null;\n    }\n    async setCachedStatus(clientId, status) {\n      try {\n        const cached = {\n          is_locked: status.is_locked,\n          lock_message: status.lock_message || '',\n          warning_message: status.warning_message || '',\n          last_sync: Date.now(),\n          pending_actions: []\n        };\n        await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n        console.log('[OfflineSync] Status cached successfully');\n      } catch (error) {\n        console.error('[OfflineSync] Error caching status:', error);\n      }\n    }\n    async addPendingAction(clientId, action) {\n      try {\n        const cached = await this.getCachedStatus(clientId);\n        if (cached) {\n          cached.pending_actions.push(action);\n          await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n          console.log('[OfflineSync] Pending action queued:', action.type);\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error adding pending action:', error);\n      }\n    }\n    async syncStatus(clientId, apiUrl) {\n      try {\n        // Check if online\n        const netState = await NetInfo.default.fetch();\n        if (!netState.isConnected) {\n          console.log('[OfflineSync] Offline - using cached status');\n          const cached = await this.getCachedStatus(clientId);\n          if (cached) {\n            return {\n              is_locked: cached.is_locked,\n              lock_message: cached.lock_message,\n              warning_message: cached.warning_message,\n              offline: true\n            };\n          }\n          throw new Error('No cached data available');\n        }\n\n        // Online - fetch from server\n        const response = await fetch(`${apiUrl}/api/device/status/${clientId}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch status');\n        }\n        const status = await response.json();\n\n        // Cache the new status\n        await this.setCachedStatus(clientId, status);\n\n        // Process pending actions\n        await this.processPendingActions(clientId, apiUrl);\n        return {\n          ...status,\n          offline: false\n        };\n      } catch (error) {\n        console.error('[OfflineSync] Sync error:', error);\n\n        // Return cached data if available\n        const cached = await this.getCachedStatus(clientId);\n        if (cached) {\n          return {\n            is_locked: cached.is_locked,\n            lock_message: cached.lock_message,\n            warning_message: cached.warning_message,\n            offline: true\n          };\n        }\n        throw error;\n      }\n    }\n    async processPendingActions(clientId, apiUrl) {\n      try {\n        const cached = await this.getCachedStatus(clientId);\n        if (!cached || cached.pending_actions.length === 0) {\n          return;\n        }\n        console.log(`[OfflineSync] Processing ${cached.pending_actions.length} pending actions`);\n        for (const action of cached.pending_actions) {\n          try {\n            switch (action.type) {\n              case 'location':\n                await fetch(`${apiUrl}/api/device/location`, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    client_id: clientId,\n                    ...action.data\n                  })\n                });\n                break;\n              case 'tamper':\n                await fetch(`${apiUrl}/api/clients/${clientId}/report-tamper?tamper_type=${action.data.type}`, {\n                  method: 'POST'\n                });\n                break;\n              case 'reboot':\n                await fetch(`${apiUrl}/api/clients/${clientId}/report-reboot`, {\n                  method: 'POST'\n                });\n                break;\n            }\n            console.log(`[OfflineSync] Synced pending action: ${action.type}`);\n          } catch (error) {\n            console.error(`[OfflineSync] Failed to sync action ${action.type}:`, error);\n          }\n        }\n\n        // Clear pending actions after successful sync\n        cached.pending_actions = [];\n        await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n      } catch (error) {\n        console.error('[OfflineSync] Error processing pending actions:', error);\n      }\n    }\n    async syncAll() {\n      // This will be called when connection is restored\n      console.log('[OfflineSync] Syncing all pending data...');\n      try {\n        // Get all cached client IDs\n        const keys = await AsyncStorage.default.getAllKeys();\n        const cacheKeys = keys.filter(key => key.startsWith(CACHE_KEY_PREFIX));\n        for (const key of cacheKeys) {\n          const clientId = key.replace(CACHE_KEY_PREFIX, '');\n          // Trigger sync for each client\n          // This will be called by the main app with proper API URL\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error syncing all:', error);\n      }\n    }\n    startPeriodicSync(clientId, apiUrl, onUpdate) {\n      this.onStatusUpdateCallback = onUpdate;\n\n      // Clear any existing interval\n      if (this.syncInterval) {\n        clearInterval(this.syncInterval);\n      }\n\n      // Sync immediately\n      this.syncStatus(clientId, apiUrl).then(status => {\n        onUpdate(status);\n      });\n\n      // Set up periodic sync\n      this.syncInterval = setInterval(async () => {\n        try {\n          const status = await this.syncStatus(clientId, apiUrl);\n          onUpdate(status);\n        } catch (error) {\n          console.error('[OfflineSync] Periodic sync error:', error);\n        }\n      }, SYNC_INTERVAL);\n      console.log('[OfflineSync] Periodic sync started');\n    }\n    stopPeriodicSync() {\n      if (this.syncInterval) {\n        clearInterval(this.syncInterval);\n        this.syncInterval = null;\n        console.log('[OfflineSync] Periodic sync stopped');\n      }\n    }\n    async reportLocationOffline(clientId, latitude, longitude) {\n      const action = {\n        type: 'location',\n        timestamp: Date.now(),\n        data: {\n          latitude,\n          longitude\n        }\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    async reportTamperOffline(clientId, tamperType) {\n      const action = {\n        type: 'tamper',\n        timestamp: Date.now(),\n        data: {\n          type: tamperType\n        }\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    async reportRebootOffline(clientId) {\n      const action = {\n        type: 'reboot',\n        timestamp: Date.now()\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    isDeviceOnline() {\n      return this.isOnline;\n    }\n  }\n\n  // Export singleton instance\n  var _default = new OfflineSyncManager();\n});","lineCount":267,"map":[[12,2,279,0,"Object"],[12,8,279,0],[12,9,279,0,"defineProperty"],[12,23,279,0],[12,24,279,0,"exports"],[12,31,279,0],[13,4,279,0,"enumerable"],[13,14,279,0],[14,4,279,0,"get"],[14,7,279,0],[14,18,279,0,"get"],[14,19,279,0],[15,6,279,0],[15,13,279,0,"_default"],[15,21,279,0],[16,4,279,0],[17,2,279,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeCommunityNetinfo"],[20,34,2,0],[20,37,2,0,"require"],[20,44,2,0],[20,45,2,0,"_dependencyMap"],[20,59,2,0],[21,2,2,0],[21,6,2,0,"NetInfo"],[21,13,2,0],[21,16,2,0,"_interopDefault"],[21,31,2,0],[21,32,2,0,"_reactNativeCommunityNetinfo"],[21,60,2,0],[22,2,18,0],[22,8,18,6,"CACHE_KEY_PREFIX"],[22,24,18,22],[22,27,18,25],[22,43,18,41],[23,2,19,0],[23,8,19,6,"SYNC_INTERVAL"],[23,21,19,19],[23,24,19,22],[23,29,19,27],[23,30,19,28],[23,31,19,29],[25,2,21,0],[25,8,21,6,"OfflineSyncManager"],[25,26,21,24],[25,27,21,25],[26,4,22,10,"syncInterval"],[26,16,22,22],[26,19,22,48],[26,23,22,52],[27,4,23,10,"isOnline"],[27,12,23,18],[27,15,23,30],[27,19,23,34],[28,4,24,10,"onStatusUpdateCallback"],[28,26,24,32],[28,29,24,67],[28,33,24,71],[29,4,26,2,"constructor"],[29,15,26,13,"constructor"],[29,16,26,13],[29,18,26,16],[30,6,27,4],[30,10,27,8],[30,11,27,9,"initializeNetworkListener"],[30,36,27,34],[30,37,27,35],[30,38,27,36],[31,4,28,2],[32,4,30,10,"initializeNetworkListener"],[32,29,30,35,"initializeNetworkListener"],[32,30,30,35],[32,32,30,38],[33,6,31,4],[34,6,32,4,"NetInfo"],[34,13,32,11],[34,14,32,11,"default"],[34,21,32,11],[34,22,32,12,"addEventListener"],[34,38,32,28],[34,39,32,29,"state"],[34,44,32,34],[34,48,32,38],[35,8,33,6],[35,14,33,12,"wasOffline"],[35,24,33,22],[35,27,33,25],[35,28,33,26],[35,32,33,30],[35,33,33,31,"isOnline"],[35,41,33,39],[36,8,34,6],[36,12,34,10],[36,13,34,11,"isOnline"],[36,21,34,19],[36,24,34,22,"state"],[36,29,34,27],[36,30,34,28,"isConnected"],[36,41,34,39],[36,45,34,43],[36,50,34,48],[37,8,36,6,"console"],[37,15,36,13],[37,16,36,14,"log"],[37,19,36,17],[37,20,36,18],[37,51,36,49],[37,53,36,51],[37,57,36,55],[37,58,36,56,"isOnline"],[37,66,36,64],[37,69,36,67],[37,77,36,75],[37,80,36,78],[37,89,36,87],[37,90,36,88],[39,8,38,6],[40,8,39,6],[40,12,39,10,"wasOffline"],[40,22,39,20],[40,26,39,24],[40,30,39,28],[40,31,39,29,"isOnline"],[40,39,39,37],[40,41,39,39],[41,10,40,8,"console"],[41,17,40,15],[41,18,40,16,"log"],[41,21,40,19],[41,22,40,20],[41,70,40,68],[41,71,40,69],[42,10,41,8],[42,14,41,12],[42,15,41,13,"syncAll"],[42,22,41,20],[42,23,41,21],[42,24,41,22],[43,8,42,6],[44,6,43,4],[44,7,43,5],[44,8,43,6],[45,4,44,2],[46,4,46,2],[46,10,46,8,"getCachedStatus"],[46,25,46,23,"getCachedStatus"],[46,26,46,24,"clientId"],[46,34,46,40],[46,36,46,72],[47,6,47,4],[47,10,47,8],[48,8,48,6],[48,14,48,12,"cached"],[48,20,48,18],[48,23,48,21],[48,29,48,27,"AsyncStorage"],[48,41,48,39],[48,42,48,39,"default"],[48,49,48,39],[48,50,48,40,"getItem"],[48,57,48,47],[48,58,48,48],[48,61,48,51,"CACHE_KEY_PREFIX"],[48,77,48,67],[48,80,48,70,"clientId"],[48,88,48,78],[48,90,48,80],[48,91,48,81],[49,8,49,6],[49,12,49,10,"cached"],[49,18,49,16],[49,20,49,18],[50,10,50,8],[50,17,50,15,"JSON"],[50,21,50,19],[50,22,50,20,"parse"],[50,27,50,25],[50,28,50,26,"cached"],[50,34,50,32],[50,35,50,33],[51,8,51,6],[52,6,52,4],[52,7,52,5],[52,8,52,6],[52,15,52,13,"error"],[52,20,52,18],[52,22,52,20],[53,8,53,6,"console"],[53,15,53,13],[53,16,53,14,"error"],[53,21,53,19],[53,22,53,20],[53,58,53,56],[53,60,53,58,"error"],[53,65,53,63],[53,66,53,64],[54,6,54,4],[55,6,55,4],[55,13,55,11],[55,17,55,15],[56,4,56,2],[57,4,58,2],[57,10,58,8,"setCachedStatus"],[57,25,58,23,"setCachedStatus"],[57,26,58,24,"clientId"],[57,34,58,40],[57,36,58,42,"status"],[57,42,58,53],[57,44,58,55],[58,6,59,4],[58,10,59,8],[59,8,60,6],[59,14,60,12,"cached"],[59,20,60,32],[59,23,60,35],[60,10,61,8,"is_locked"],[60,19,61,17],[60,21,61,19,"status"],[60,27,61,25],[60,28,61,26,"is_locked"],[60,37,61,35],[61,10,62,8,"lock_message"],[61,22,62,20],[61,24,62,22,"status"],[61,30,62,28],[61,31,62,29,"lock_message"],[61,43,62,41],[61,47,62,45],[61,49,62,47],[62,10,63,8,"warning_message"],[62,25,63,23],[62,27,63,25,"status"],[62,33,63,31],[62,34,63,32,"warning_message"],[62,49,63,47],[62,53,63,51],[62,55,63,53],[63,10,64,8,"last_sync"],[63,19,64,17],[63,21,64,19,"Date"],[63,25,64,23],[63,26,64,24,"now"],[63,29,64,27],[63,30,64,28],[63,31,64,29],[64,10,65,8,"pending_actions"],[64,25,65,23],[64,27,65,25],[65,8,66,6],[65,9,66,7],[66,8,68,6],[66,14,68,12,"AsyncStorage"],[66,26,68,24],[66,27,68,24,"default"],[66,34,68,24],[66,35,68,25,"setItem"],[66,42,68,32],[66,43,68,33],[66,46,68,36,"CACHE_KEY_PREFIX"],[66,62,68,52],[66,65,68,55,"clientId"],[66,73,68,63],[66,75,68,65],[66,77,68,67,"JSON"],[66,81,68,71],[66,82,68,72,"stringify"],[66,91,68,81],[66,92,68,82,"cached"],[66,98,68,88],[66,99,68,89],[66,100,68,90],[67,8,69,6,"console"],[67,15,69,13],[67,16,69,14,"log"],[67,19,69,17],[67,20,69,18],[67,62,69,60],[67,63,69,61],[68,6,70,4],[68,7,70,5],[68,8,70,6],[68,15,70,13,"error"],[68,20,70,18],[68,22,70,20],[69,8,71,6,"console"],[69,15,71,13],[69,16,71,14,"error"],[69,21,71,19],[69,22,71,20],[69,59,71,57],[69,61,71,59,"error"],[69,66,71,64],[69,67,71,65],[70,6,72,4],[71,4,73,2],[72,4,75,2],[72,10,75,8,"addPendingAction"],[72,26,75,24,"addPendingAction"],[72,27,75,25,"clientId"],[72,35,75,41],[72,37,75,43,"action"],[72,43,75,64],[72,45,75,66],[73,6,76,4],[73,10,76,8],[74,8,77,6],[74,14,77,12,"cached"],[74,20,77,18],[74,23,77,21],[74,29,77,27],[74,33,77,31],[74,34,77,32,"getCachedStatus"],[74,49,77,47],[74,50,77,48,"clientId"],[74,58,77,56],[74,59,77,57],[75,8,78,6],[75,12,78,10,"cached"],[75,18,78,16],[75,20,78,18],[76,10,79,8,"cached"],[76,16,79,14],[76,17,79,15,"pending_actions"],[76,32,79,30],[76,33,79,31,"push"],[76,37,79,35],[76,38,79,36,"action"],[76,44,79,42],[76,45,79,43],[77,10,80,8],[77,16,80,14,"AsyncStorage"],[77,28,80,26],[77,29,80,26,"default"],[77,36,80,26],[77,37,80,27,"setItem"],[77,44,80,34],[77,45,80,35],[77,48,80,38,"CACHE_KEY_PREFIX"],[77,64,80,54],[77,67,80,57,"clientId"],[77,75,80,65],[77,77,80,67],[77,79,80,69,"JSON"],[77,83,80,73],[77,84,80,74,"stringify"],[77,93,80,83],[77,94,80,84,"cached"],[77,100,80,90],[77,101,80,91],[77,102,80,92],[78,10,81,8,"console"],[78,17,81,15],[78,18,81,16,"log"],[78,21,81,19],[78,22,81,20],[78,60,81,58],[78,62,81,60,"action"],[78,68,81,66],[78,69,81,67,"type"],[78,73,81,71],[78,74,81,72],[79,8,82,6],[80,6,83,4],[80,7,83,5],[80,8,83,6],[80,15,83,13,"error"],[80,20,83,18],[80,22,83,20],[81,8,84,6,"console"],[81,15,84,13],[81,16,84,14,"error"],[81,21,84,19],[81,22,84,20],[81,66,84,64],[81,68,84,66,"error"],[81,73,84,71],[81,74,84,72],[82,6,85,4],[83,4,86,2],[84,4,88,2],[84,10,88,8,"syncStatus"],[84,20,88,18,"syncStatus"],[84,21,88,19,"clientId"],[84,29,88,35],[84,31,88,37,"apiUrl"],[84,37,88,51],[84,39,88,67],[85,6,89,4],[85,10,89,8],[86,8,90,6],[87,8,91,6],[87,14,91,12,"netState"],[87,22,91,20],[87,25,91,23],[87,31,91,29,"NetInfo"],[87,38,91,36],[87,39,91,36,"default"],[87,46,91,36],[87,47,91,37,"fetch"],[87,52,91,42],[87,53,91,43],[87,54,91,44],[88,8,92,6],[88,12,92,10],[88,13,92,11,"netState"],[88,21,92,19],[88,22,92,20,"isConnected"],[88,33,92,31],[88,35,92,33],[89,10,93,8,"console"],[89,17,93,15],[89,18,93,16,"log"],[89,21,93,19],[89,22,93,20],[89,67,93,65],[89,68,93,66],[90,10,94,8],[90,16,94,14,"cached"],[90,22,94,20],[90,25,94,23],[90,31,94,29],[90,35,94,33],[90,36,94,34,"getCachedStatus"],[90,51,94,49],[90,52,94,50,"clientId"],[90,60,94,58],[90,61,94,59],[91,10,95,8],[91,14,95,12,"cached"],[91,20,95,18],[91,22,95,20],[92,12,96,10],[92,19,96,17],[93,14,97,12,"is_locked"],[93,23,97,21],[93,25,97,23,"cached"],[93,31,97,29],[93,32,97,30,"is_locked"],[93,41,97,39],[94,14,98,12,"lock_message"],[94,26,98,24],[94,28,98,26,"cached"],[94,34,98,32],[94,35,98,33,"lock_message"],[94,47,98,45],[95,14,99,12,"warning_message"],[95,29,99,27],[95,31,99,29,"cached"],[95,37,99,35],[95,38,99,36,"warning_message"],[95,53,99,51],[96,14,100,12,"offline"],[96,21,100,19],[96,23,100,21],[97,12,101,10],[97,13,101,11],[98,10,102,8],[99,10,103,8],[99,16,103,14],[99,20,103,18,"Error"],[99,25,103,23],[99,26,103,24],[99,52,103,50],[99,53,103,51],[100,8,104,6],[102,8,106,6],[103,8,107,6],[103,14,107,12,"response"],[103,22,107,20],[103,25,107,23],[103,31,107,29,"fetch"],[103,36,107,34],[103,37,107,35],[103,40,107,38,"apiUrl"],[103,46,107,44],[103,68,107,66,"clientId"],[103,76,107,74],[103,78,107,76],[103,80,107,78],[104,10,108,8,"method"],[104,16,108,14],[104,18,108,16],[104,23,108,21],[105,10,109,8,"headers"],[105,17,109,15],[105,19,109,17],[106,12,109,19],[106,26,109,33],[106,28,109,35],[107,10,109,54],[108,8,110,6],[108,9,110,7],[108,10,110,8],[109,8,112,6],[109,12,112,10],[109,13,112,11,"response"],[109,21,112,19],[109,22,112,20,"ok"],[109,24,112,22],[109,26,112,24],[110,10,113,8],[110,16,113,14],[110,20,113,18,"Error"],[110,25,113,23],[110,26,113,24],[110,50,113,48],[110,51,113,49],[111,8,114,6],[112,8,116,6],[112,14,116,12,"status"],[112,20,116,18],[112,23,116,21],[112,29,116,27,"response"],[112,37,116,35],[112,38,116,36,"json"],[112,42,116,40],[112,43,116,41],[112,44,116,42],[114,8,118,6],[115,8,119,6],[115,14,119,12],[115,18,119,16],[115,19,119,17,"setCachedStatus"],[115,34,119,32],[115,35,119,33,"clientId"],[115,43,119,41],[115,45,119,43,"status"],[115,51,119,49],[115,52,119,50],[117,8,121,6],[118,8,122,6],[118,14,122,12],[118,18,122,16],[118,19,122,17,"processPendingActions"],[118,40,122,38],[118,41,122,39,"clientId"],[118,49,122,47],[118,51,122,49,"apiUrl"],[118,57,122,55],[118,58,122,56],[119,8,124,6],[119,15,124,13],[120,10,124,15],[120,13,124,18,"status"],[120,19,124,24],[121,10,124,26,"offline"],[121,17,124,33],[121,19,124,35],[122,8,124,41],[122,9,124,42],[123,6,125,4],[123,7,125,5],[123,8,125,6],[123,15,125,13,"error"],[123,20,125,18],[123,22,125,20],[124,8,126,6,"console"],[124,15,126,13],[124,16,126,14,"error"],[124,21,126,19],[124,22,126,20],[124,49,126,47],[124,51,126,49,"error"],[124,56,126,54],[124,57,126,55],[126,8,128,6],[127,8,129,6],[127,14,129,12,"cached"],[127,20,129,18],[127,23,129,21],[127,29,129,27],[127,33,129,31],[127,34,129,32,"getCachedStatus"],[127,49,129,47],[127,50,129,48,"clientId"],[127,58,129,56],[127,59,129,57],[128,8,130,6],[128,12,130,10,"cached"],[128,18,130,16],[128,20,130,18],[129,10,131,8],[129,17,131,15],[130,12,132,10,"is_locked"],[130,21,132,19],[130,23,132,21,"cached"],[130,29,132,27],[130,30,132,28,"is_locked"],[130,39,132,37],[131,12,133,10,"lock_message"],[131,24,133,22],[131,26,133,24,"cached"],[131,32,133,30],[131,33,133,31,"lock_message"],[131,45,133,43],[132,12,134,10,"warning_message"],[132,27,134,25],[132,29,134,27,"cached"],[132,35,134,33],[132,36,134,34,"warning_message"],[132,51,134,49],[133,12,135,10,"offline"],[133,19,135,17],[133,21,135,19],[134,10,136,8],[134,11,136,9],[135,8,137,6],[136,8,139,6],[136,14,139,12,"error"],[136,19,139,17],[137,6,140,4],[138,4,141,2],[139,4,143,2],[139,10,143,8,"processPendingActions"],[139,31,143,29,"processPendingActions"],[139,32,143,30,"clientId"],[139,40,143,46],[139,42,143,48,"apiUrl"],[139,48,143,62],[139,50,143,64],[140,6,144,4],[140,10,144,8],[141,8,145,6],[141,14,145,12,"cached"],[141,20,145,18],[141,23,145,21],[141,29,145,27],[141,33,145,31],[141,34,145,32,"getCachedStatus"],[141,49,145,47],[141,50,145,48,"clientId"],[141,58,145,56],[141,59,145,57],[142,8,146,6],[142,12,146,10],[142,13,146,11,"cached"],[142,19,146,17],[142,23,146,21,"cached"],[142,29,146,27],[142,30,146,28,"pending_actions"],[142,45,146,43],[142,46,146,44,"length"],[142,52,146,50],[142,57,146,55],[142,58,146,56],[142,60,146,58],[143,10,147,8],[144,8,148,6],[145,8,150,6,"console"],[145,15,150,13],[145,16,150,14,"log"],[145,19,150,17],[145,20,150,18],[145,48,150,46,"cached"],[145,54,150,52],[145,55,150,53,"pending_actions"],[145,70,150,68],[145,71,150,69,"length"],[145,77,150,75],[145,95,150,93],[145,96,150,94],[146,8,152,6],[146,13,152,11],[146,19,152,17,"action"],[146,25,152,23],[146,29,152,27,"cached"],[146,35,152,33],[146,36,152,34,"pending_actions"],[146,51,152,49],[146,53,152,51],[147,10,153,8],[147,14,153,12],[148,12,154,10],[148,20,154,18,"action"],[148,26,154,24],[148,27,154,25,"type"],[148,31,154,29],[149,14,155,12],[149,19,155,17],[149,29,155,27],[150,16,156,14],[150,22,156,20,"fetch"],[150,27,156,25],[150,28,156,26],[150,31,156,29,"apiUrl"],[150,37,156,35],[150,59,156,57],[150,61,156,59],[151,18,157,16,"method"],[151,24,157,22],[151,26,157,24],[151,32,157,30],[152,18,158,16,"headers"],[152,25,158,23],[152,27,158,25],[153,20,158,27],[153,34,158,41],[153,36,158,43],[154,18,158,62],[154,19,158,63],[155,18,159,16,"body"],[155,22,159,20],[155,24,159,22,"JSON"],[155,28,159,26],[155,29,159,27,"stringify"],[155,38,159,36],[155,39,159,37],[156,20,160,18,"client_id"],[156,29,160,27],[156,31,160,29,"clientId"],[156,39,160,37],[157,20,161,18],[157,23,161,21,"action"],[157,29,161,27],[157,30,161,28,"data"],[158,18,162,16],[158,19,162,17],[159,16,163,14],[159,17,163,15],[159,18,163,16],[160,16,164,14],[161,14,166,12],[161,19,166,17],[161,27,166,25],[162,16,167,14],[162,22,167,20,"fetch"],[162,27,167,25],[162,28,167,26],[162,31,167,29,"apiUrl"],[162,37,167,35],[162,53,167,51,"clientId"],[162,61,167,59],[162,91,167,89,"action"],[162,97,167,95],[162,98,167,96,"data"],[162,102,167,100],[162,103,167,101,"type"],[162,107,167,105],[162,109,167,107],[162,111,167,109],[163,18,168,16,"method"],[163,24,168,22],[163,26,168,24],[164,16,169,14],[164,17,169,15],[164,18,169,16],[165,16,170,14],[166,14,172,12],[166,19,172,17],[166,27,172,25],[167,16,173,14],[167,22,173,20,"fetch"],[167,27,173,25],[167,28,173,26],[167,31,173,29,"apiUrl"],[167,37,173,35],[167,53,173,51,"clientId"],[167,61,173,59],[167,77,173,75],[167,79,173,77],[168,18,174,16,"method"],[168,24,174,22],[168,26,174,24],[169,16,175,14],[169,17,175,15],[169,18,175,16],[170,16,176,14],[171,12,177,10],[172,12,179,10,"console"],[172,19,179,17],[172,20,179,18,"log"],[172,23,179,21],[172,24,179,22],[172,64,179,62,"action"],[172,70,179,68],[172,71,179,69,"type"],[172,75,179,73],[172,77,179,75],[172,78,179,76],[173,10,180,8],[173,11,180,9],[173,12,180,10],[173,19,180,17,"error"],[173,24,180,22],[173,26,180,24],[174,12,181,10,"console"],[174,19,181,17],[174,20,181,18,"error"],[174,25,181,23],[174,26,181,24],[174,65,181,63,"action"],[174,71,181,69],[174,72,181,70,"type"],[174,76,181,74],[174,79,181,77],[174,81,181,79,"error"],[174,86,181,84],[174,87,181,85],[175,10,182,8],[176,8,183,6],[178,8,185,6],[179,8,186,6,"cached"],[179,14,186,12],[179,15,186,13,"pending_actions"],[179,30,186,28],[179,33,186,31],[179,35,186,33],[180,8,187,6],[180,14,187,12,"AsyncStorage"],[180,26,187,24],[180,27,187,24,"default"],[180,34,187,24],[180,35,187,25,"setItem"],[180,42,187,32],[180,43,187,33],[180,46,187,36,"CACHE_KEY_PREFIX"],[180,62,187,52],[180,65,187,55,"clientId"],[180,73,187,63],[180,75,187,65],[180,77,187,67,"JSON"],[180,81,187,71],[180,82,187,72,"stringify"],[180,91,187,81],[180,92,187,82,"cached"],[180,98,187,88],[180,99,187,89],[180,100,187,90],[181,6,189,4],[181,7,189,5],[181,8,189,6],[181,15,189,13,"error"],[181,20,189,18],[181,22,189,20],[182,8,190,6,"console"],[182,15,190,13],[182,16,190,14,"error"],[182,21,190,19],[182,22,190,20],[182,71,190,69],[182,73,190,71,"error"],[182,78,190,76],[182,79,190,77],[183,6,191,4],[184,4,192,2],[185,4,194,2],[185,10,194,8,"syncAll"],[185,17,194,15,"syncAll"],[185,18,194,15],[185,20,194,18],[186,6,195,4],[187,6,196,4,"console"],[187,13,196,11],[187,14,196,12,"log"],[187,17,196,15],[187,18,196,16],[187,61,196,59],[187,62,196,60],[188,6,198,4],[188,10,198,8],[189,8,199,6],[190,8,200,6],[190,14,200,12,"keys"],[190,18,200,16],[190,21,200,19],[190,27,200,25,"AsyncStorage"],[190,39,200,37],[190,40,200,37,"default"],[190,47,200,37],[190,48,200,38,"getAllKeys"],[190,58,200,48],[190,59,200,49],[190,60,200,50],[191,8,201,6],[191,14,201,12,"cacheKeys"],[191,23,201,21],[191,26,201,24,"keys"],[191,30,201,28],[191,31,201,29,"filter"],[191,37,201,35],[191,38,201,36,"key"],[191,41,201,39],[191,45,201,43,"key"],[191,48,201,46],[191,49,201,47,"startsWith"],[191,59,201,57],[191,60,201,58,"CACHE_KEY_PREFIX"],[191,76,201,74],[191,77,201,75],[191,78,201,76],[192,8,203,6],[192,13,203,11],[192,19,203,17,"key"],[192,22,203,20],[192,26,203,24,"cacheKeys"],[192,35,203,33],[192,37,203,35],[193,10,204,8],[193,16,204,14,"clientId"],[193,24,204,22],[193,27,204,25,"key"],[193,30,204,28],[193,31,204,29,"replace"],[193,38,204,36],[193,39,204,37,"CACHE_KEY_PREFIX"],[193,55,204,53],[193,57,204,55],[193,59,204,57],[193,60,204,58],[194,10,205,8],[195,10,206,8],[196,8,207,6],[197,6,208,4],[197,7,208,5],[197,8,208,6],[197,15,208,13,"error"],[197,20,208,18],[197,22,208,20],[198,8,209,6,"console"],[198,15,209,13],[198,16,209,14,"error"],[198,21,209,19],[198,22,209,20],[198,56,209,54],[198,58,209,56,"error"],[198,63,209,61],[198,64,209,62],[199,6,210,4],[200,4,211,2],[201,4,213,2,"startPeriodicSync"],[201,21,213,19,"startPeriodicSync"],[201,22,213,20,"clientId"],[201,30,213,36],[201,32,213,38,"apiUrl"],[201,38,213,52],[201,40,213,54,"onUpdate"],[201,48,213,85],[201,50,213,87],[202,6,214,4],[202,10,214,8],[202,11,214,9,"onStatusUpdateCallback"],[202,33,214,31],[202,36,214,34,"onUpdate"],[202,44,214,42],[204,6,216,4],[205,6,217,4],[205,10,217,8],[205,14,217,12],[205,15,217,13,"syncInterval"],[205,27,217,25],[205,29,217,27],[206,8,218,6,"clearInterval"],[206,21,218,19],[206,22,218,20],[206,26,218,24],[206,27,218,25,"syncInterval"],[206,39,218,37],[206,40,218,38],[207,6,219,4],[209,6,221,4],[210,6,222,4],[210,10,222,8],[210,11,222,9,"syncStatus"],[210,21,222,19],[210,22,222,20,"clientId"],[210,30,222,28],[210,32,222,30,"apiUrl"],[210,38,222,36],[210,39,222,37],[210,40,222,38,"then"],[210,44,222,42],[210,45,222,43,"status"],[210,51,222,49],[210,55,222,53],[211,8,223,6,"onUpdate"],[211,16,223,14],[211,17,223,15,"status"],[211,23,223,21],[211,24,223,22],[212,6,224,4],[212,7,224,5],[212,8,224,6],[214,6,226,4],[215,6,227,4],[215,10,227,8],[215,11,227,9,"syncInterval"],[215,23,227,21],[215,26,227,24,"setInterval"],[215,37,227,35],[215,38,227,36],[215,50,227,48],[216,8,228,6],[216,12,228,10],[217,10,229,8],[217,16,229,14,"status"],[217,22,229,20],[217,25,229,23],[217,31,229,29],[217,35,229,33],[217,36,229,34,"syncStatus"],[217,46,229,44],[217,47,229,45,"clientId"],[217,55,229,53],[217,57,229,55,"apiUrl"],[217,63,229,61],[217,64,229,62],[218,10,230,8,"onUpdate"],[218,18,230,16],[218,19,230,17,"status"],[218,25,230,23],[218,26,230,24],[219,8,231,6],[219,9,231,7],[219,10,231,8],[219,17,231,15,"error"],[219,22,231,20],[219,24,231,22],[220,10,232,8,"console"],[220,17,232,15],[220,18,232,16,"error"],[220,23,232,21],[220,24,232,22],[220,60,232,58],[220,62,232,60,"error"],[220,67,232,65],[220,68,232,66],[221,8,233,6],[222,6,234,4],[222,7,234,5],[222,9,234,7,"SYNC_INTERVAL"],[222,22,234,20],[222,23,234,21],[223,6,236,4,"console"],[223,13,236,11],[223,14,236,12,"log"],[223,17,236,15],[223,18,236,16],[223,55,236,53],[223,56,236,54],[224,4,237,2],[225,4,239,2,"stopPeriodicSync"],[225,20,239,18,"stopPeriodicSync"],[225,21,239,18],[225,23,239,21],[226,6,240,4],[226,10,240,8],[226,14,240,12],[226,15,240,13,"syncInterval"],[226,27,240,25],[226,29,240,27],[227,8,241,6,"clearInterval"],[227,21,241,19],[227,22,241,20],[227,26,241,24],[227,27,241,25,"syncInterval"],[227,39,241,37],[227,40,241,38],[228,8,242,6],[228,12,242,10],[228,13,242,11,"syncInterval"],[228,25,242,23],[228,28,242,26],[228,32,242,30],[229,8,243,6,"console"],[229,15,243,13],[229,16,243,14,"log"],[229,19,243,17],[229,20,243,18],[229,57,243,55],[229,58,243,56],[230,6,244,4],[231,4,245,2],[232,4,247,2],[232,10,247,8,"reportLocationOffline"],[232,31,247,29,"reportLocationOffline"],[232,32,247,30,"clientId"],[232,40,247,46],[232,42,247,48,"latitude"],[232,50,247,64],[232,52,247,66,"longitude"],[232,61,247,83],[232,63,247,85],[233,6,248,4],[233,12,248,10,"action"],[233,18,248,31],[233,21,248,34],[234,8,249,6,"type"],[234,12,249,10],[234,14,249,12],[234,24,249,22],[235,8,250,6,"timestamp"],[235,17,250,15],[235,19,250,17,"Date"],[235,23,250,21],[235,24,250,22,"now"],[235,27,250,25],[235,28,250,26],[235,29,250,27],[236,8,251,6,"data"],[236,12,251,10],[236,14,251,12],[237,10,251,14,"latitude"],[237,18,251,22],[238,10,251,24,"longitude"],[239,8,251,34],[240,6,252,4],[240,7,252,5],[241,6,253,4],[241,12,253,10],[241,16,253,14],[241,17,253,15,"addPendingAction"],[241,33,253,31],[241,34,253,32,"clientId"],[241,42,253,40],[241,44,253,42,"action"],[241,50,253,48],[241,51,253,49],[242,4,254,2],[243,4,256,2],[243,10,256,8,"reportTamperOffline"],[243,29,256,27,"reportTamperOffline"],[243,30,256,28,"clientId"],[243,38,256,44],[243,40,256,46,"tamperType"],[243,50,256,64],[243,52,256,66],[244,6,257,4],[244,12,257,10,"action"],[244,18,257,31],[244,21,257,34],[245,8,258,6,"type"],[245,12,258,10],[245,14,258,12],[245,22,258,20],[246,8,259,6,"timestamp"],[246,17,259,15],[246,19,259,17,"Date"],[246,23,259,21],[246,24,259,22,"now"],[246,27,259,25],[246,28,259,26],[246,29,259,27],[247,8,260,6,"data"],[247,12,260,10],[247,14,260,12],[248,10,260,14,"type"],[248,14,260,18],[248,16,260,20,"tamperType"],[249,8,260,31],[250,6,261,4],[250,7,261,5],[251,6,262,4],[251,12,262,10],[251,16,262,14],[251,17,262,15,"addPendingAction"],[251,33,262,31],[251,34,262,32,"clientId"],[251,42,262,40],[251,44,262,42,"action"],[251,50,262,48],[251,51,262,49],[252,4,263,2],[253,4,265,2],[253,10,265,8,"reportRebootOffline"],[253,29,265,27,"reportRebootOffline"],[253,30,265,28,"clientId"],[253,38,265,44],[253,40,265,46],[254,6,266,4],[254,12,266,10,"action"],[254,18,266,31],[254,21,266,34],[255,8,267,6,"type"],[255,12,267,10],[255,14,267,12],[255,22,267,20],[256,8,268,6,"timestamp"],[256,17,268,15],[256,19,268,17,"Date"],[256,23,268,21],[256,24,268,22,"now"],[256,27,268,25],[256,28,268,26],[257,6,269,4],[257,7,269,5],[258,6,270,4],[258,12,270,10],[258,16,270,14],[258,17,270,15,"addPendingAction"],[258,33,270,31],[258,34,270,32,"clientId"],[258,42,270,40],[258,44,270,42,"action"],[258,50,270,48],[258,51,270,49],[259,4,271,2],[260,4,273,2,"isDeviceOnline"],[260,18,273,16,"isDeviceOnline"],[260,19,273,16],[260,21,273,28],[261,6,274,4],[261,13,274,11],[261,17,274,15],[261,18,274,16,"isOnline"],[261,26,274,24],[262,4,275,2],[263,2,276,0],[265,2,278,0],[266,2,279,0],[266,6,279,0,"_default"],[266,14,279,0],[266,17,279,15],[266,21,279,19,"OfflineSyncManager"],[266,39,279,37],[266,40,279,38],[266,41,279,39],[267,0,279,40],[267,3]],"functionMap":{"names":["<global>","OfflineSyncManager","constructor","initializeNetworkListener","NetInfo.addEventListener$argument_0","getCachedStatus","setCachedStatus","addPendingAction","syncStatus","processPendingActions","syncAll","keys.filter$argument_0","startPeriodicSync","syncStatus.then$argument_0","setInterval$argument_0","stopPeriodicSync","reportLocationOffline","reportTamperOffline","reportRebootOffline","isDeviceOnline"],"mappings":"AAA;ACoB;ECK;GDE;EEE;6BCE;KDW;GFC;EIE;GJU;EKE;GLe;EME;GNW;EOE;GPqD;EQE;GRiD;ESE;oCCO,uCD;GTU;EWE;2CCS;KDE;oCEG;KFO;GXG;EcE;GdM;EeE;GfO;EgBE;GhBO;EiBE;GjBM;EkBE;GlBE;CDC"},"hasCjsExports":false},"type":"js/module"}]}