{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":54,"index":124}}],"key":"PqZcYTlMIVnzFjdViPzMiGUu7Hg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeCommunityNetinfo = require(_dependencyMap[1], \"@react-native-community/netinfo\");\n  var NetInfo = _interopDefault(_reactNativeCommunityNetinfo);\n  const CACHE_KEY_PREFIX = 'offline_cache_';\n  const SYNC_INTERVAL = 30000; // 30 seconds\n\n  class OfflineSyncManager {\n    syncInterval = null;\n    isOnline = true;\n    onStatusUpdateCallback = null;\n    constructor() {\n      this.initializeNetworkListener();\n    }\n    initializeNetworkListener() {\n      // Monitor network status\n      NetInfo.default.addEventListener(state => {\n        const wasOffline = !this.isOnline;\n        this.isOnline = state.isConnected ?? false;\n        console.log('[OfflineSync] Network status:', this.isOnline ? 'ONLINE' : 'OFFLINE');\n\n        // If we just came online, sync immediately\n        if (wasOffline && this.isOnline) {\n          console.log('[OfflineSync] Connection restored - syncing...');\n          this.syncAll();\n        }\n      });\n    }\n    async getCachedStatus(clientId) {\n      try {\n        const cached = await AsyncStorage.default.getItem(`${CACHE_KEY_PREFIX}${clientId}`);\n        if (cached) {\n          return JSON.parse(cached);\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error reading cache:', error);\n      }\n      return null;\n    }\n    async setCachedStatus(clientId, status) {\n      try {\n        const cached = {\n          is_locked: status.is_locked,\n          lock_message: status.lock_message || '',\n          warning_message: status.warning_message || '',\n          last_sync: Date.now(),\n          pending_actions: []\n        };\n        await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n        console.log('[OfflineSync] Status cached successfully');\n      } catch (error) {\n        console.error('[OfflineSync] Error caching status:', error);\n      }\n    }\n    async addPendingAction(clientId, action) {\n      try {\n        const cached = await this.getCachedStatus(clientId);\n        if (cached) {\n          cached.pending_actions.push(action);\n          await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n          console.log('[OfflineSync] Pending action queued:', action.type);\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error adding pending action:', error);\n      }\n    }\n    async syncStatus(clientId, apiUrl) {\n      try {\n        // Check if online\n        const netState = await NetInfo.default.fetch();\n        if (!netState.isConnected) {\n          console.log('[OfflineSync] Offline - using cached status');\n          const cached = await this.getCachedStatus(clientId);\n          if (cached) {\n            return {\n              is_locked: cached.is_locked,\n              lock_message: cached.lock_message,\n              warning_message: cached.warning_message,\n              offline: true\n            };\n          }\n          throw new Error('No cached data available');\n        }\n\n        // Online - fetch from server\n        const response = await fetch(`${apiUrl}/api/device/status/${clientId}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch status');\n        }\n        const status = await response.json();\n\n        // Cache the new status\n        await this.setCachedStatus(clientId, status);\n\n        // Process pending actions\n        await this.processPendingActions(clientId, apiUrl);\n        return Object.assign({}, status, {\n          offline: false\n        });\n      } catch (error) {\n        console.error('[OfflineSync] Sync error:', error);\n\n        // Return cached data if available\n        const cached = await this.getCachedStatus(clientId);\n        if (cached) {\n          return {\n            is_locked: cached.is_locked,\n            lock_message: cached.lock_message,\n            warning_message: cached.warning_message,\n            offline: true\n          };\n        }\n        throw error;\n      }\n    }\n    async processPendingActions(clientId, apiUrl) {\n      try {\n        const cached = await this.getCachedStatus(clientId);\n        if (!cached || cached.pending_actions.length === 0) {\n          return;\n        }\n        console.log(`[OfflineSync] Processing ${cached.pending_actions.length} pending actions`);\n        for (const action of cached.pending_actions) {\n          try {\n            switch (action.type) {\n              case 'location':\n                await fetch(`${apiUrl}/api/device/location`, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(Object.assign({\n                    client_id: clientId\n                  }, action.data))\n                });\n                break;\n              case 'tamper':\n                await fetch(`${apiUrl}/api/clients/${clientId}/report-tamper?tamper_type=${action.data.type}`, {\n                  method: 'POST'\n                });\n                break;\n              case 'reboot':\n                await fetch(`${apiUrl}/api/clients/${clientId}/report-reboot`, {\n                  method: 'POST'\n                });\n                break;\n            }\n            console.log(`[OfflineSync] Synced pending action: ${action.type}`);\n          } catch (error) {\n            console.error(`[OfflineSync] Failed to sync action ${action.type}:`, error);\n          }\n        }\n\n        // Clear pending actions after successful sync\n        cached.pending_actions = [];\n        await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n      } catch (error) {\n        console.error('[OfflineSync] Error processing pending actions:', error);\n      }\n    }\n    async syncAll() {\n      // This will be called when connection is restored\n      console.log('[OfflineSync] Syncing all pending data...');\n      try {\n        // Get all cached client IDs\n        const keys = await AsyncStorage.default.getAllKeys();\n        const cacheKeys = keys.filter(key => key.startsWith(CACHE_KEY_PREFIX));\n        for (const key of cacheKeys) {\n          const clientId = key.replace(CACHE_KEY_PREFIX, '');\n          // Trigger sync for each client\n          // This will be called by the main app with proper API URL\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error syncing all:', error);\n      }\n    }\n    startPeriodicSync(clientId, apiUrl, onUpdate) {\n      this.onStatusUpdateCallback = onUpdate;\n\n      // Clear any existing interval\n      if (this.syncInterval) {\n        clearInterval(this.syncInterval);\n      }\n\n      // Sync immediately\n      this.syncStatus(clientId, apiUrl).then(status => {\n        onUpdate(status);\n      });\n\n      // Set up periodic sync\n      this.syncInterval = setInterval(async () => {\n        try {\n          const status = await this.syncStatus(clientId, apiUrl);\n          onUpdate(status);\n        } catch (error) {\n          console.error('[OfflineSync] Periodic sync error:', error);\n        }\n      }, SYNC_INTERVAL);\n      console.log('[OfflineSync] Periodic sync started');\n    }\n    stopPeriodicSync() {\n      if (this.syncInterval) {\n        clearInterval(this.syncInterval);\n        this.syncInterval = null;\n        console.log('[OfflineSync] Periodic sync stopped');\n      }\n    }\n    async reportLocationOffline(clientId, latitude, longitude) {\n      const action = {\n        type: 'location',\n        timestamp: Date.now(),\n        data: {\n          latitude,\n          longitude\n        }\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    async reportTamperOffline(clientId, tamperType) {\n      const action = {\n        type: 'tamper',\n        timestamp: Date.now(),\n        data: {\n          type: tamperType\n        }\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    async reportRebootOffline(clientId) {\n      const action = {\n        type: 'reboot',\n        timestamp: Date.now()\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    isDeviceOnline() {\n      return this.isOnline;\n    }\n  }\n\n  // Export singleton instance\n  var _default = new OfflineSyncManager();\n});","lineCount":265,"map":[[12,2,279,0,"Object"],[12,8,279,0],[12,9,279,0,"defineProperty"],[12,23,279,0],[12,24,279,0,"exports"],[12,31,279,0],[13,4,279,0,"enumerable"],[13,14,279,0],[14,4,279,0,"get"],[14,7,279,0],[14,18,279,0,"get"],[14,19,279,0],[15,6,279,0],[15,13,279,0,"_default"],[15,21,279,0],[16,4,279,0],[17,2,279,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeCommunityNetinfo"],[20,34,2,0],[20,37,2,0,"require"],[20,44,2,0],[20,45,2,0,"_dependencyMap"],[20,59,2,0],[21,2,2,0],[21,6,2,0,"NetInfo"],[21,13,2,0],[21,16,2,0,"_interopDefault"],[21,31,2,0],[21,32,2,0,"_reactNativeCommunityNetinfo"],[21,60,2,0],[22,2,18,0],[22,8,18,6,"CACHE_KEY_PREFIX"],[22,24,18,22],[22,27,18,25],[22,43,18,41],[23,2,19,0],[23,8,19,6,"SYNC_INTERVAL"],[23,21,19,19],[23,24,19,22],[23,29,19,27],[23,30,19,28],[23,31,19,29],[25,2,21,0],[25,8,21,6,"OfflineSyncManager"],[25,26,21,24],[25,27,21,25],[26,4,22,10,"syncInterval"],[26,16,22,22],[26,19,22,64],[26,23,22,68],[27,4,23,10,"isOnline"],[27,12,23,18],[27,15,23,30],[27,19,23,34],[28,4,24,10,"onStatusUpdateCallback"],[28,26,24,32],[28,29,24,67],[28,33,24,71],[29,4,26,2,"constructor"],[29,15,26,13,"constructor"],[29,16,26,13],[29,18,26,16],[30,6,27,4],[30,10,27,8],[30,11,27,9,"initializeNetworkListener"],[30,36,27,34],[30,37,27,35],[30,38,27,36],[31,4,28,2],[32,4,30,10,"initializeNetworkListener"],[32,29,30,35,"initializeNetworkListener"],[32,30,30,35],[32,32,30,38],[33,6,31,4],[34,6,32,4,"NetInfo"],[34,13,32,11],[34,14,32,11,"default"],[34,21,32,11],[34,22,32,12,"addEventListener"],[34,38,32,28],[34,39,32,29,"state"],[34,44,32,34],[34,48,32,38],[35,8,33,6],[35,14,33,12,"wasOffline"],[35,24,33,22],[35,27,33,25],[35,28,33,26],[35,32,33,30],[35,33,33,31,"isOnline"],[35,41,33,39],[36,8,34,6],[36,12,34,10],[36,13,34,11,"isOnline"],[36,21,34,19],[36,24,34,22,"state"],[36,29,34,27],[36,30,34,28,"isConnected"],[36,41,34,39],[36,45,34,43],[36,50,34,48],[37,8,36,6,"console"],[37,15,36,13],[37,16,36,14,"log"],[37,19,36,17],[37,20,36,18],[37,51,36,49],[37,53,36,51],[37,57,36,55],[37,58,36,56,"isOnline"],[37,66,36,64],[37,69,36,67],[37,77,36,75],[37,80,36,78],[37,89,36,87],[37,90,36,88],[39,8,38,6],[40,8,39,6],[40,12,39,10,"wasOffline"],[40,22,39,20],[40,26,39,24],[40,30,39,28],[40,31,39,29,"isOnline"],[40,39,39,37],[40,41,39,39],[41,10,40,8,"console"],[41,17,40,15],[41,18,40,16,"log"],[41,21,40,19],[41,22,40,20],[41,70,40,68],[41,71,40,69],[42,10,41,8],[42,14,41,12],[42,15,41,13,"syncAll"],[42,22,41,20],[42,23,41,21],[42,24,41,22],[43,8,42,6],[44,6,43,4],[44,7,43,5],[44,8,43,6],[45,4,44,2],[46,4,46,2],[46,10,46,8,"getCachedStatus"],[46,25,46,23,"getCachedStatus"],[46,26,46,24,"clientId"],[46,34,46,40],[46,36,46,72],[47,6,47,4],[47,10,47,8],[48,8,48,6],[48,14,48,12,"cached"],[48,20,48,18],[48,23,48,21],[48,29,48,27,"AsyncStorage"],[48,41,48,39],[48,42,48,39,"default"],[48,49,48,39],[48,50,48,40,"getItem"],[48,57,48,47],[48,58,48,48],[48,61,48,51,"CACHE_KEY_PREFIX"],[48,77,48,67],[48,80,48,70,"clientId"],[48,88,48,78],[48,90,48,80],[48,91,48,81],[49,8,49,6],[49,12,49,10,"cached"],[49,18,49,16],[49,20,49,18],[50,10,50,8],[50,17,50,15,"JSON"],[50,21,50,19],[50,22,50,20,"parse"],[50,27,50,25],[50,28,50,26,"cached"],[50,34,50,32],[50,35,50,33],[51,8,51,6],[52,6,52,4],[52,7,52,5],[52,8,52,6],[52,15,52,13,"error"],[52,20,52,18],[52,22,52,20],[53,8,53,6,"console"],[53,15,53,13],[53,16,53,14,"error"],[53,21,53,19],[53,22,53,20],[53,58,53,56],[53,60,53,58,"error"],[53,65,53,63],[53,66,53,64],[54,6,54,4],[55,6,55,4],[55,13,55,11],[55,17,55,15],[56,4,56,2],[57,4,58,2],[57,10,58,8,"setCachedStatus"],[57,25,58,23,"setCachedStatus"],[57,26,58,24,"clientId"],[57,34,58,40],[57,36,58,42,"status"],[57,42,58,53],[57,44,58,55],[58,6,59,4],[58,10,59,8],[59,8,60,6],[59,14,60,12,"cached"],[59,20,60,32],[59,23,60,35],[60,10,61,8,"is_locked"],[60,19,61,17],[60,21,61,19,"status"],[60,27,61,25],[60,28,61,26,"is_locked"],[60,37,61,35],[61,10,62,8,"lock_message"],[61,22,62,20],[61,24,62,22,"status"],[61,30,62,28],[61,31,62,29,"lock_message"],[61,43,62,41],[61,47,62,45],[61,49,62,47],[62,10,63,8,"warning_message"],[62,25,63,23],[62,27,63,25,"status"],[62,33,63,31],[62,34,63,32,"warning_message"],[62,49,63,47],[62,53,63,51],[62,55,63,53],[63,10,64,8,"last_sync"],[63,19,64,17],[63,21,64,19,"Date"],[63,25,64,23],[63,26,64,24,"now"],[63,29,64,27],[63,30,64,28],[63,31,64,29],[64,10,65,8,"pending_actions"],[64,25,65,23],[64,27,65,25],[65,8,66,6],[65,9,66,7],[66,8,68,6],[66,14,68,12,"AsyncStorage"],[66,26,68,24],[66,27,68,24,"default"],[66,34,68,24],[66,35,68,25,"setItem"],[66,42,68,32],[66,43,68,33],[66,46,68,36,"CACHE_KEY_PREFIX"],[66,62,68,52],[66,65,68,55,"clientId"],[66,73,68,63],[66,75,68,65],[66,77,68,67,"JSON"],[66,81,68,71],[66,82,68,72,"stringify"],[66,91,68,81],[66,92,68,82,"cached"],[66,98,68,88],[66,99,68,89],[66,100,68,90],[67,8,69,6,"console"],[67,15,69,13],[67,16,69,14,"log"],[67,19,69,17],[67,20,69,18],[67,62,69,60],[67,63,69,61],[68,6,70,4],[68,7,70,5],[68,8,70,6],[68,15,70,13,"error"],[68,20,70,18],[68,22,70,20],[69,8,71,6,"console"],[69,15,71,13],[69,16,71,14,"error"],[69,21,71,19],[69,22,71,20],[69,59,71,57],[69,61,71,59,"error"],[69,66,71,64],[69,67,71,65],[70,6,72,4],[71,4,73,2],[72,4,75,2],[72,10,75,8,"addPendingAction"],[72,26,75,24,"addPendingAction"],[72,27,75,25,"clientId"],[72,35,75,41],[72,37,75,43,"action"],[72,43,75,64],[72,45,75,66],[73,6,76,4],[73,10,76,8],[74,8,77,6],[74,14,77,12,"cached"],[74,20,77,18],[74,23,77,21],[74,29,77,27],[74,33,77,31],[74,34,77,32,"getCachedStatus"],[74,49,77,47],[74,50,77,48,"clientId"],[74,58,77,56],[74,59,77,57],[75,8,78,6],[75,12,78,10,"cached"],[75,18,78,16],[75,20,78,18],[76,10,79,8,"cached"],[76,16,79,14],[76,17,79,15,"pending_actions"],[76,32,79,30],[76,33,79,31,"push"],[76,37,79,35],[76,38,79,36,"action"],[76,44,79,42],[76,45,79,43],[77,10,80,8],[77,16,80,14,"AsyncStorage"],[77,28,80,26],[77,29,80,26,"default"],[77,36,80,26],[77,37,80,27,"setItem"],[77,44,80,34],[77,45,80,35],[77,48,80,38,"CACHE_KEY_PREFIX"],[77,64,80,54],[77,67,80,57,"clientId"],[77,75,80,65],[77,77,80,67],[77,79,80,69,"JSON"],[77,83,80,73],[77,84,80,74,"stringify"],[77,93,80,83],[77,94,80,84,"cached"],[77,100,80,90],[77,101,80,91],[77,102,80,92],[78,10,81,8,"console"],[78,17,81,15],[78,18,81,16,"log"],[78,21,81,19],[78,22,81,20],[78,60,81,58],[78,62,81,60,"action"],[78,68,81,66],[78,69,81,67,"type"],[78,73,81,71],[78,74,81,72],[79,8,82,6],[80,6,83,4],[80,7,83,5],[80,8,83,6],[80,15,83,13,"error"],[80,20,83,18],[80,22,83,20],[81,8,84,6,"console"],[81,15,84,13],[81,16,84,14,"error"],[81,21,84,19],[81,22,84,20],[81,66,84,64],[81,68,84,66,"error"],[81,73,84,71],[81,74,84,72],[82,6,85,4],[83,4,86,2],[84,4,88,2],[84,10,88,8,"syncStatus"],[84,20,88,18,"syncStatus"],[84,21,88,19,"clientId"],[84,29,88,35],[84,31,88,37,"apiUrl"],[84,37,88,51],[84,39,88,67],[85,6,89,4],[85,10,89,8],[86,8,90,6],[87,8,91,6],[87,14,91,12,"netState"],[87,22,91,20],[87,25,91,23],[87,31,91,29,"NetInfo"],[87,38,91,36],[87,39,91,36,"default"],[87,46,91,36],[87,47,91,37,"fetch"],[87,52,91,42],[87,53,91,43],[87,54,91,44],[88,8,92,6],[88,12,92,10],[88,13,92,11,"netState"],[88,21,92,19],[88,22,92,20,"isConnected"],[88,33,92,31],[88,35,92,33],[89,10,93,8,"console"],[89,17,93,15],[89,18,93,16,"log"],[89,21,93,19],[89,22,93,20],[89,67,93,65],[89,68,93,66],[90,10,94,8],[90,16,94,14,"cached"],[90,22,94,20],[90,25,94,23],[90,31,94,29],[90,35,94,33],[90,36,94,34,"getCachedStatus"],[90,51,94,49],[90,52,94,50,"clientId"],[90,60,94,58],[90,61,94,59],[91,10,95,8],[91,14,95,12,"cached"],[91,20,95,18],[91,22,95,20],[92,12,96,10],[92,19,96,17],[93,14,97,12,"is_locked"],[93,23,97,21],[93,25,97,23,"cached"],[93,31,97,29],[93,32,97,30,"is_locked"],[93,41,97,39],[94,14,98,12,"lock_message"],[94,26,98,24],[94,28,98,26,"cached"],[94,34,98,32],[94,35,98,33,"lock_message"],[94,47,98,45],[95,14,99,12,"warning_message"],[95,29,99,27],[95,31,99,29,"cached"],[95,37,99,35],[95,38,99,36,"warning_message"],[95,53,99,51],[96,14,100,12,"offline"],[96,21,100,19],[96,23,100,21],[97,12,101,10],[97,13,101,11],[98,10,102,8],[99,10,103,8],[99,16,103,14],[99,20,103,18,"Error"],[99,25,103,23],[99,26,103,24],[99,52,103,50],[99,53,103,51],[100,8,104,6],[102,8,106,6],[103,8,107,6],[103,14,107,12,"response"],[103,22,107,20],[103,25,107,23],[103,31,107,29,"fetch"],[103,36,107,34],[103,37,107,35],[103,40,107,38,"apiUrl"],[103,46,107,44],[103,68,107,66,"clientId"],[103,76,107,74],[103,78,107,76],[103,80,107,78],[104,10,108,8,"method"],[104,16,108,14],[104,18,108,16],[104,23,108,21],[105,10,109,8,"headers"],[105,17,109,15],[105,19,109,17],[106,12,109,19],[106,26,109,33],[106,28,109,35],[107,10,109,54],[108,8,110,6],[108,9,110,7],[108,10,110,8],[109,8,112,6],[109,12,112,10],[109,13,112,11,"response"],[109,21,112,19],[109,22,112,20,"ok"],[109,24,112,22],[109,26,112,24],[110,10,113,8],[110,16,113,14],[110,20,113,18,"Error"],[110,25,113,23],[110,26,113,24],[110,50,113,48],[110,51,113,49],[111,8,114,6],[112,8,116,6],[112,14,116,12,"status"],[112,20,116,18],[112,23,116,21],[112,29,116,27,"response"],[112,37,116,35],[112,38,116,36,"json"],[112,42,116,40],[112,43,116,41],[112,44,116,42],[114,8,118,6],[115,8,119,6],[115,14,119,12],[115,18,119,16],[115,19,119,17,"setCachedStatus"],[115,34,119,32],[115,35,119,33,"clientId"],[115,43,119,41],[115,45,119,43,"status"],[115,51,119,49],[115,52,119,50],[117,8,121,6],[118,8,122,6],[118,14,122,12],[118,18,122,16],[118,19,122,17,"processPendingActions"],[118,40,122,38],[118,41,122,39,"clientId"],[118,49,122,47],[118,51,122,49,"apiUrl"],[118,57,122,55],[118,58,122,56],[119,8,124,6],[119,15,124,6,"Object"],[119,21,124,6],[119,22,124,6,"assign"],[119,28,124,6],[119,33,124,18,"status"],[119,39,124,24],[120,10,124,26,"offline"],[120,17,124,33],[120,19,124,35],[121,8,124,40],[122,6,125,4],[122,7,125,5],[122,8,125,6],[122,15,125,13,"error"],[122,20,125,18],[122,22,125,20],[123,8,126,6,"console"],[123,15,126,13],[123,16,126,14,"error"],[123,21,126,19],[123,22,126,20],[123,49,126,47],[123,51,126,49,"error"],[123,56,126,54],[123,57,126,55],[125,8,128,6],[126,8,129,6],[126,14,129,12,"cached"],[126,20,129,18],[126,23,129,21],[126,29,129,27],[126,33,129,31],[126,34,129,32,"getCachedStatus"],[126,49,129,47],[126,50,129,48,"clientId"],[126,58,129,56],[126,59,129,57],[127,8,130,6],[127,12,130,10,"cached"],[127,18,130,16],[127,20,130,18],[128,10,131,8],[128,17,131,15],[129,12,132,10,"is_locked"],[129,21,132,19],[129,23,132,21,"cached"],[129,29,132,27],[129,30,132,28,"is_locked"],[129,39,132,37],[130,12,133,10,"lock_message"],[130,24,133,22],[130,26,133,24,"cached"],[130,32,133,30],[130,33,133,31,"lock_message"],[130,45,133,43],[131,12,134,10,"warning_message"],[131,27,134,25],[131,29,134,27,"cached"],[131,35,134,33],[131,36,134,34,"warning_message"],[131,51,134,49],[132,12,135,10,"offline"],[132,19,135,17],[132,21,135,19],[133,10,136,8],[133,11,136,9],[134,8,137,6],[135,8,139,6],[135,14,139,12,"error"],[135,19,139,17],[136,6,140,4],[137,4,141,2],[138,4,143,2],[138,10,143,8,"processPendingActions"],[138,31,143,29,"processPendingActions"],[138,32,143,30,"clientId"],[138,40,143,46],[138,42,143,48,"apiUrl"],[138,48,143,62],[138,50,143,64],[139,6,144,4],[139,10,144,8],[140,8,145,6],[140,14,145,12,"cached"],[140,20,145,18],[140,23,145,21],[140,29,145,27],[140,33,145,31],[140,34,145,32,"getCachedStatus"],[140,49,145,47],[140,50,145,48,"clientId"],[140,58,145,56],[140,59,145,57],[141,8,146,6],[141,12,146,10],[141,13,146,11,"cached"],[141,19,146,17],[141,23,146,21,"cached"],[141,29,146,27],[141,30,146,28,"pending_actions"],[141,45,146,43],[141,46,146,44,"length"],[141,52,146,50],[141,57,146,55],[141,58,146,56],[141,60,146,58],[142,10,147,8],[143,8,148,6],[144,8,150,6,"console"],[144,15,150,13],[144,16,150,14,"log"],[144,19,150,17],[144,20,150,18],[144,48,150,46,"cached"],[144,54,150,52],[144,55,150,53,"pending_actions"],[144,70,150,68],[144,71,150,69,"length"],[144,77,150,75],[144,95,150,93],[144,96,150,94],[145,8,152,6],[145,13,152,11],[145,19,152,17,"action"],[145,25,152,23],[145,29,152,27,"cached"],[145,35,152,33],[145,36,152,34,"pending_actions"],[145,51,152,49],[145,53,152,51],[146,10,153,8],[146,14,153,12],[147,12,154,10],[147,20,154,18,"action"],[147,26,154,24],[147,27,154,25,"type"],[147,31,154,29],[148,14,155,12],[148,19,155,17],[148,29,155,27],[149,16,156,14],[149,22,156,20,"fetch"],[149,27,156,25],[149,28,156,26],[149,31,156,29,"apiUrl"],[149,37,156,35],[149,59,156,57],[149,61,156,59],[150,18,157,16,"method"],[150,24,157,22],[150,26,157,24],[150,32,157,30],[151,18,158,16,"headers"],[151,25,158,23],[151,27,158,25],[152,20,158,27],[152,34,158,41],[152,36,158,43],[153,18,158,62],[153,19,158,63],[154,18,159,16,"body"],[154,22,159,20],[154,24,159,22,"JSON"],[154,28,159,26],[154,29,159,27,"stringify"],[154,38,159,36],[154,39,159,36,"Object"],[154,45,159,36],[154,46,159,36,"assign"],[154,52,159,36],[155,20,160,18,"client_id"],[155,29,160,27],[155,31,160,29,"clientId"],[156,18,160,37],[156,21,161,21,"action"],[156,27,161,27],[156,28,161,28,"data"],[156,32,161,32],[156,33,162,17],[157,16,163,14],[157,17,163,15],[157,18,163,16],[158,16,164,14],[159,14,166,12],[159,19,166,17],[159,27,166,25],[160,16,167,14],[160,22,167,20,"fetch"],[160,27,167,25],[160,28,167,26],[160,31,167,29,"apiUrl"],[160,37,167,35],[160,53,167,51,"clientId"],[160,61,167,59],[160,91,167,89,"action"],[160,97,167,95],[160,98,167,96,"data"],[160,102,167,100],[160,103,167,101,"type"],[160,107,167,105],[160,109,167,107],[160,111,167,109],[161,18,168,16,"method"],[161,24,168,22],[161,26,168,24],[162,16,169,14],[162,17,169,15],[162,18,169,16],[163,16,170,14],[164,14,172,12],[164,19,172,17],[164,27,172,25],[165,16,173,14],[165,22,173,20,"fetch"],[165,27,173,25],[165,28,173,26],[165,31,173,29,"apiUrl"],[165,37,173,35],[165,53,173,51,"clientId"],[165,61,173,59],[165,77,173,75],[165,79,173,77],[166,18,174,16,"method"],[166,24,174,22],[166,26,174,24],[167,16,175,14],[167,17,175,15],[167,18,175,16],[168,16,176,14],[169,12,177,10],[170,12,179,10,"console"],[170,19,179,17],[170,20,179,18,"log"],[170,23,179,21],[170,24,179,22],[170,64,179,62,"action"],[170,70,179,68],[170,71,179,69,"type"],[170,75,179,73],[170,77,179,75],[170,78,179,76],[171,10,180,8],[171,11,180,9],[171,12,180,10],[171,19,180,17,"error"],[171,24,180,22],[171,26,180,24],[172,12,181,10,"console"],[172,19,181,17],[172,20,181,18,"error"],[172,25,181,23],[172,26,181,24],[172,65,181,63,"action"],[172,71,181,69],[172,72,181,70,"type"],[172,76,181,74],[172,79,181,77],[172,81,181,79,"error"],[172,86,181,84],[172,87,181,85],[173,10,182,8],[174,8,183,6],[176,8,185,6],[177,8,186,6,"cached"],[177,14,186,12],[177,15,186,13,"pending_actions"],[177,30,186,28],[177,33,186,31],[177,35,186,33],[178,8,187,6],[178,14,187,12,"AsyncStorage"],[178,26,187,24],[178,27,187,24,"default"],[178,34,187,24],[178,35,187,25,"setItem"],[178,42,187,32],[178,43,187,33],[178,46,187,36,"CACHE_KEY_PREFIX"],[178,62,187,52],[178,65,187,55,"clientId"],[178,73,187,63],[178,75,187,65],[178,77,187,67,"JSON"],[178,81,187,71],[178,82,187,72,"stringify"],[178,91,187,81],[178,92,187,82,"cached"],[178,98,187,88],[178,99,187,89],[178,100,187,90],[179,6,189,4],[179,7,189,5],[179,8,189,6],[179,15,189,13,"error"],[179,20,189,18],[179,22,189,20],[180,8,190,6,"console"],[180,15,190,13],[180,16,190,14,"error"],[180,21,190,19],[180,22,190,20],[180,71,190,69],[180,73,190,71,"error"],[180,78,190,76],[180,79,190,77],[181,6,191,4],[182,4,192,2],[183,4,194,2],[183,10,194,8,"syncAll"],[183,17,194,15,"syncAll"],[183,18,194,15],[183,20,194,18],[184,6,195,4],[185,6,196,4,"console"],[185,13,196,11],[185,14,196,12,"log"],[185,17,196,15],[185,18,196,16],[185,61,196,59],[185,62,196,60],[186,6,198,4],[186,10,198,8],[187,8,199,6],[188,8,200,6],[188,14,200,12,"keys"],[188,18,200,16],[188,21,200,19],[188,27,200,25,"AsyncStorage"],[188,39,200,37],[188,40,200,37,"default"],[188,47,200,37],[188,48,200,38,"getAllKeys"],[188,58,200,48],[188,59,200,49],[188,60,200,50],[189,8,201,6],[189,14,201,12,"cacheKeys"],[189,23,201,21],[189,26,201,24,"keys"],[189,30,201,28],[189,31,201,29,"filter"],[189,37,201,35],[189,38,201,36,"key"],[189,41,201,39],[189,45,201,43,"key"],[189,48,201,46],[189,49,201,47,"startsWith"],[189,59,201,57],[189,60,201,58,"CACHE_KEY_PREFIX"],[189,76,201,74],[189,77,201,75],[189,78,201,76],[190,8,203,6],[190,13,203,11],[190,19,203,17,"key"],[190,22,203,20],[190,26,203,24,"cacheKeys"],[190,35,203,33],[190,37,203,35],[191,10,204,8],[191,16,204,14,"clientId"],[191,24,204,22],[191,27,204,25,"key"],[191,30,204,28],[191,31,204,29,"replace"],[191,38,204,36],[191,39,204,37,"CACHE_KEY_PREFIX"],[191,55,204,53],[191,57,204,55],[191,59,204,57],[191,60,204,58],[192,10,205,8],[193,10,206,8],[194,8,207,6],[195,6,208,4],[195,7,208,5],[195,8,208,6],[195,15,208,13,"error"],[195,20,208,18],[195,22,208,20],[196,8,209,6,"console"],[196,15,209,13],[196,16,209,14,"error"],[196,21,209,19],[196,22,209,20],[196,56,209,54],[196,58,209,56,"error"],[196,63,209,61],[196,64,209,62],[197,6,210,4],[198,4,211,2],[199,4,213,2,"startPeriodicSync"],[199,21,213,19,"startPeriodicSync"],[199,22,213,20,"clientId"],[199,30,213,36],[199,32,213,38,"apiUrl"],[199,38,213,52],[199,40,213,54,"onUpdate"],[199,48,213,85],[199,50,213,87],[200,6,214,4],[200,10,214,8],[200,11,214,9,"onStatusUpdateCallback"],[200,33,214,31],[200,36,214,34,"onUpdate"],[200,44,214,42],[202,6,216,4],[203,6,217,4],[203,10,217,8],[203,14,217,12],[203,15,217,13,"syncInterval"],[203,27,217,25],[203,29,217,27],[204,8,218,6,"clearInterval"],[204,21,218,19],[204,22,218,20],[204,26,218,24],[204,27,218,25,"syncInterval"],[204,39,218,37],[204,40,218,38],[205,6,219,4],[207,6,221,4],[208,6,222,4],[208,10,222,8],[208,11,222,9,"syncStatus"],[208,21,222,19],[208,22,222,20,"clientId"],[208,30,222,28],[208,32,222,30,"apiUrl"],[208,38,222,36],[208,39,222,37],[208,40,222,38,"then"],[208,44,222,42],[208,45,222,43,"status"],[208,51,222,49],[208,55,222,53],[209,8,223,6,"onUpdate"],[209,16,223,14],[209,17,223,15,"status"],[209,23,223,21],[209,24,223,22],[210,6,224,4],[210,7,224,5],[210,8,224,6],[212,6,226,4],[213,6,227,4],[213,10,227,8],[213,11,227,9,"syncInterval"],[213,23,227,21],[213,26,227,24,"setInterval"],[213,37,227,35],[213,38,227,36],[213,50,227,48],[214,8,228,6],[214,12,228,10],[215,10,229,8],[215,16,229,14,"status"],[215,22,229,20],[215,25,229,23],[215,31,229,29],[215,35,229,33],[215,36,229,34,"syncStatus"],[215,46,229,44],[215,47,229,45,"clientId"],[215,55,229,53],[215,57,229,55,"apiUrl"],[215,63,229,61],[215,64,229,62],[216,10,230,8,"onUpdate"],[216,18,230,16],[216,19,230,17,"status"],[216,25,230,23],[216,26,230,24],[217,8,231,6],[217,9,231,7],[217,10,231,8],[217,17,231,15,"error"],[217,22,231,20],[217,24,231,22],[218,10,232,8,"console"],[218,17,232,15],[218,18,232,16,"error"],[218,23,232,21],[218,24,232,22],[218,60,232,58],[218,62,232,60,"error"],[218,67,232,65],[218,68,232,66],[219,8,233,6],[220,6,234,4],[220,7,234,5],[220,9,234,7,"SYNC_INTERVAL"],[220,22,234,20],[220,23,234,21],[221,6,236,4,"console"],[221,13,236,11],[221,14,236,12,"log"],[221,17,236,15],[221,18,236,16],[221,55,236,53],[221,56,236,54],[222,4,237,2],[223,4,239,2,"stopPeriodicSync"],[223,20,239,18,"stopPeriodicSync"],[223,21,239,18],[223,23,239,21],[224,6,240,4],[224,10,240,8],[224,14,240,12],[224,15,240,13,"syncInterval"],[224,27,240,25],[224,29,240,27],[225,8,241,6,"clearInterval"],[225,21,241,19],[225,22,241,20],[225,26,241,24],[225,27,241,25,"syncInterval"],[225,39,241,37],[225,40,241,38],[226,8,242,6],[226,12,242,10],[226,13,242,11,"syncInterval"],[226,25,242,23],[226,28,242,26],[226,32,242,30],[227,8,243,6,"console"],[227,15,243,13],[227,16,243,14,"log"],[227,19,243,17],[227,20,243,18],[227,57,243,55],[227,58,243,56],[228,6,244,4],[229,4,245,2],[230,4,247,2],[230,10,247,8,"reportLocationOffline"],[230,31,247,29,"reportLocationOffline"],[230,32,247,30,"clientId"],[230,40,247,46],[230,42,247,48,"latitude"],[230,50,247,64],[230,52,247,66,"longitude"],[230,61,247,83],[230,63,247,85],[231,6,248,4],[231,12,248,10,"action"],[231,18,248,31],[231,21,248,34],[232,8,249,6,"type"],[232,12,249,10],[232,14,249,12],[232,24,249,22],[233,8,250,6,"timestamp"],[233,17,250,15],[233,19,250,17,"Date"],[233,23,250,21],[233,24,250,22,"now"],[233,27,250,25],[233,28,250,26],[233,29,250,27],[234,8,251,6,"data"],[234,12,251,10],[234,14,251,12],[235,10,251,14,"latitude"],[235,18,251,22],[236,10,251,24,"longitude"],[237,8,251,34],[238,6,252,4],[238,7,252,5],[239,6,253,4],[239,12,253,10],[239,16,253,14],[239,17,253,15,"addPendingAction"],[239,33,253,31],[239,34,253,32,"clientId"],[239,42,253,40],[239,44,253,42,"action"],[239,50,253,48],[239,51,253,49],[240,4,254,2],[241,4,256,2],[241,10,256,8,"reportTamperOffline"],[241,29,256,27,"reportTamperOffline"],[241,30,256,28,"clientId"],[241,38,256,44],[241,40,256,46,"tamperType"],[241,50,256,64],[241,52,256,66],[242,6,257,4],[242,12,257,10,"action"],[242,18,257,31],[242,21,257,34],[243,8,258,6,"type"],[243,12,258,10],[243,14,258,12],[243,22,258,20],[244,8,259,6,"timestamp"],[244,17,259,15],[244,19,259,17,"Date"],[244,23,259,21],[244,24,259,22,"now"],[244,27,259,25],[244,28,259,26],[244,29,259,27],[245,8,260,6,"data"],[245,12,260,10],[245,14,260,12],[246,10,260,14,"type"],[246,14,260,18],[246,16,260,20,"tamperType"],[247,8,260,31],[248,6,261,4],[248,7,261,5],[249,6,262,4],[249,12,262,10],[249,16,262,14],[249,17,262,15,"addPendingAction"],[249,33,262,31],[249,34,262,32,"clientId"],[249,42,262,40],[249,44,262,42,"action"],[249,50,262,48],[249,51,262,49],[250,4,263,2],[251,4,265,2],[251,10,265,8,"reportRebootOffline"],[251,29,265,27,"reportRebootOffline"],[251,30,265,28,"clientId"],[251,38,265,44],[251,40,265,46],[252,6,266,4],[252,12,266,10,"action"],[252,18,266,31],[252,21,266,34],[253,8,267,6,"type"],[253,12,267,10],[253,14,267,12],[253,22,267,20],[254,8,268,6,"timestamp"],[254,17,268,15],[254,19,268,17,"Date"],[254,23,268,21],[254,24,268,22,"now"],[254,27,268,25],[254,28,268,26],[255,6,269,4],[255,7,269,5],[256,6,270,4],[256,12,270,10],[256,16,270,14],[256,17,270,15,"addPendingAction"],[256,33,270,31],[256,34,270,32,"clientId"],[256,42,270,40],[256,44,270,42,"action"],[256,50,270,48],[256,51,270,49],[257,4,271,2],[258,4,273,2,"isDeviceOnline"],[258,18,273,16,"isDeviceOnline"],[258,19,273,16],[258,21,273,28],[259,6,274,4],[259,13,274,11],[259,17,274,15],[259,18,274,16,"isOnline"],[259,26,274,24],[260,4,275,2],[261,2,276,0],[263,2,278,0],[264,2,279,0],[264,6,279,0,"_default"],[264,14,279,0],[264,17,279,15],[264,21,279,19,"OfflineSyncManager"],[264,39,279,37],[264,40,279,38],[264,41,279,39],[265,0,279,40],[265,3]],"functionMap":{"names":["<global>","OfflineSyncManager","constructor","initializeNetworkListener","NetInfo.addEventListener$argument_0","getCachedStatus","setCachedStatus","addPendingAction","syncStatus","processPendingActions","syncAll","keys.filter$argument_0","startPeriodicSync","syncStatus.then$argument_0","setInterval$argument_0","stopPeriodicSync","reportLocationOffline","reportTamperOffline","reportRebootOffline","isDeviceOnline"],"mappings":"AAA;ACoB;ECK;GDE;EEE;6BCE;KDW;GFC;EIE;GJU;EKE;GLe;EME;GNW;EOE;GPqD;EQE;GRiD;ESE;oCCO,uCD;GTU;EWE;2CCS;KDE;oCEG;KFO;GXG;EcE;GdM;EeE;GfO;EgBE;GhBO;EiBE;GjBM;EkBE;GlBE;CDC"},"hasCjsExports":false},"type":"js/module"}]}