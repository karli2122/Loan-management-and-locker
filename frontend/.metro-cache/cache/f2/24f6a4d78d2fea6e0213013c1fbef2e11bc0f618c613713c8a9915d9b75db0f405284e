{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":54,"index":124}}],"key":"PqZcYTlMIVnzFjdViPzMiGUu7Hg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactNativeCommunityNetinfo = require(_dependencyMap[1], \"@react-native-community/netinfo\");\n  var NetInfo = _interopDefault(_reactNativeCommunityNetinfo);\n  const CACHE_KEY_PREFIX = 'offline_cache_';\n  const SYNC_INTERVAL = 30000; // 30 seconds\n\n  class OfflineSyncManager {\n    syncInterval = null;\n    isOnline = true;\n    onStatusUpdateCallback = null;\n    initialized = false;\n    constructor() {\n      // Defer network listener initialization to avoid crashes during module loading\n      setTimeout(() => this.initializeNetworkListener(), 100);\n    }\n    initializeNetworkListener() {\n      try {\n        // Monitor network status\n        NetInfo.default.addEventListener(state => {\n          const wasOffline = !this.isOnline;\n          this.isOnline = state.isConnected ?? false;\n          console.log('[OfflineSync] Network status:', this.isOnline ? 'ONLINE' : 'OFFLINE');\n\n          // If we just came online, sync immediately\n          if (wasOffline && this.isOnline) {\n            console.log('[OfflineSync] Connection restored - syncing...');\n            this.syncAll();\n          }\n        });\n        this.initialized = true;\n      } catch (error) {\n        console.log('[OfflineSync] Failed to initialize network listener:', error);\n        // Default to online mode if listener fails\n        this.isOnline = true;\n        this.initialized = true;\n      }\n    }\n    async getCachedStatus(clientId) {\n      try {\n        const cached = await AsyncStorage.default.getItem(`${CACHE_KEY_PREFIX}${clientId}`);\n        if (cached) {\n          return JSON.parse(cached);\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error reading cache:', error);\n      }\n      return null;\n    }\n    async setCachedStatus(clientId, status) {\n      try {\n        const cached = {\n          is_locked: status.is_locked,\n          lock_message: status.lock_message || '',\n          warning_message: status.warning_message || '',\n          last_sync: Date.now(),\n          pending_actions: []\n        };\n        await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n        console.log('[OfflineSync] Status cached successfully');\n      } catch (error) {\n        console.error('[OfflineSync] Error caching status:', error);\n      }\n    }\n    async addPendingAction(clientId, action) {\n      try {\n        const cached = await this.getCachedStatus(clientId);\n        if (cached) {\n          cached.pending_actions.push(action);\n          await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n          console.log('[OfflineSync] Pending action queued:', action.type);\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error adding pending action:', error);\n      }\n    }\n    async syncStatus(clientId, apiUrl) {\n      try {\n        // Check if online\n        const netState = await NetInfo.default.fetch();\n        if (!netState.isConnected) {\n          console.log('[OfflineSync] Offline - using cached status');\n          const cached = await this.getCachedStatus(clientId);\n          if (cached) {\n            return {\n              is_locked: cached.is_locked,\n              lock_message: cached.lock_message,\n              warning_message: cached.warning_message,\n              offline: true\n            };\n          }\n          throw new Error('No cached data available');\n        }\n\n        // Online - fetch from server\n        const response = await fetch(`${apiUrl}/api/device/status/${clientId}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to fetch status');\n        }\n        const status = await response.json();\n\n        // Cache the new status\n        await this.setCachedStatus(clientId, status);\n\n        // Process pending actions\n        await this.processPendingActions(clientId, apiUrl);\n        return {\n          ...status,\n          offline: false\n        };\n      } catch (error) {\n        console.error('[OfflineSync] Sync error:', error);\n\n        // Return cached data if available\n        const cached = await this.getCachedStatus(clientId);\n        if (cached) {\n          return {\n            is_locked: cached.is_locked,\n            lock_message: cached.lock_message,\n            warning_message: cached.warning_message,\n            offline: true\n          };\n        }\n        throw error;\n      }\n    }\n    async processPendingActions(clientId, apiUrl) {\n      try {\n        const cached = await this.getCachedStatus(clientId);\n        if (!cached || cached.pending_actions.length === 0) {\n          return;\n        }\n        console.log(`[OfflineSync] Processing ${cached.pending_actions.length} pending actions`);\n        for (const action of cached.pending_actions) {\n          try {\n            switch (action.type) {\n              case 'location':\n                await fetch(`${apiUrl}/api/device/location`, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    client_id: clientId,\n                    ...action.data\n                  })\n                });\n                break;\n              case 'tamper':\n                await fetch(`${apiUrl}/api/clients/${clientId}/report-tamper?tamper_type=${action.data.type}`, {\n                  method: 'POST'\n                });\n                break;\n              case 'reboot':\n                await fetch(`${apiUrl}/api/clients/${clientId}/report-reboot`, {\n                  method: 'POST'\n                });\n                break;\n            }\n            console.log(`[OfflineSync] Synced pending action: ${action.type}`);\n          } catch (error) {\n            console.error(`[OfflineSync] Failed to sync action ${action.type}:`, error);\n          }\n        }\n\n        // Clear pending actions after successful sync\n        cached.pending_actions = [];\n        await AsyncStorage.default.setItem(`${CACHE_KEY_PREFIX}${clientId}`, JSON.stringify(cached));\n      } catch (error) {\n        console.error('[OfflineSync] Error processing pending actions:', error);\n      }\n    }\n    async syncAll() {\n      // This will be called when connection is restored\n      console.log('[OfflineSync] Syncing all pending data...');\n      try {\n        // Get all cached client IDs\n        const keys = await AsyncStorage.default.getAllKeys();\n        const cacheKeys = keys.filter(key => key.startsWith(CACHE_KEY_PREFIX));\n        for (const key of cacheKeys) {\n          const clientId = key.replace(CACHE_KEY_PREFIX, '');\n          // Trigger sync for each client\n          // This will be called by the main app with proper API URL\n        }\n      } catch (error) {\n        console.error('[OfflineSync] Error syncing all:', error);\n      }\n    }\n    startPeriodicSync(clientId, apiUrl, onUpdate) {\n      this.onStatusUpdateCallback = onUpdate;\n\n      // Clear any existing interval\n      if (this.syncInterval) {\n        clearInterval(this.syncInterval);\n      }\n\n      // Sync immediately\n      this.syncStatus(clientId, apiUrl).then(status => {\n        onUpdate(status);\n      });\n\n      // Set up periodic sync\n      this.syncInterval = setInterval(async () => {\n        try {\n          const status = await this.syncStatus(clientId, apiUrl);\n          onUpdate(status);\n        } catch (error) {\n          console.error('[OfflineSync] Periodic sync error:', error);\n        }\n      }, SYNC_INTERVAL);\n      console.log('[OfflineSync] Periodic sync started');\n    }\n    stopPeriodicSync() {\n      if (this.syncInterval) {\n        clearInterval(this.syncInterval);\n        this.syncInterval = null;\n        console.log('[OfflineSync] Periodic sync stopped');\n      }\n    }\n    async reportLocationOffline(clientId, latitude, longitude) {\n      const action = {\n        type: 'location',\n        timestamp: Date.now(),\n        data: {\n          latitude,\n          longitude\n        }\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    async reportTamperOffline(clientId, tamperType) {\n      const action = {\n        type: 'tamper',\n        timestamp: Date.now(),\n        data: {\n          type: tamperType\n        }\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    async reportRebootOffline(clientId) {\n      const action = {\n        type: 'reboot',\n        timestamp: Date.now()\n      };\n      await this.addPendingAction(clientId, action);\n    }\n    isDeviceOnline() {\n      return this.isOnline;\n    }\n  }\n\n  // Export singleton instance\n  var _default = new OfflineSyncManager();\n});","lineCount":277,"map":[[12,2,289,0,"Object"],[12,8,289,0],[12,9,289,0,"defineProperty"],[12,23,289,0],[12,24,289,0,"exports"],[12,31,289,0],[13,4,289,0,"enumerable"],[13,14,289,0],[14,4,289,0,"get"],[14,7,289,0],[14,18,289,0,"get"],[14,19,289,0],[15,6,289,0],[15,13,289,0,"_default"],[15,21,289,0],[16,4,289,0],[17,2,289,0],[18,2,1,0],[18,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,1,0],[18,45,1,0,"require"],[18,52,1,0],[18,53,1,0,"_dependencyMap"],[18,67,1,0],[19,2,1,0],[19,6,1,0,"AsyncStorage"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeCommunityNetinfo"],[20,34,2,0],[20,37,2,0,"require"],[20,44,2,0],[20,45,2,0,"_dependencyMap"],[20,59,2,0],[21,2,2,0],[21,6,2,0,"NetInfo"],[21,13,2,0],[21,16,2,0,"_interopDefault"],[21,31,2,0],[21,32,2,0,"_reactNativeCommunityNetinfo"],[21,60,2,0],[22,2,18,0],[22,8,18,6,"CACHE_KEY_PREFIX"],[22,24,18,22],[22,27,18,25],[22,43,18,41],[23,2,19,0],[23,8,19,6,"SYNC_INTERVAL"],[23,21,19,19],[23,24,19,22],[23,29,19,27],[23,30,19,28],[23,31,19,29],[25,2,21,0],[25,8,21,6,"OfflineSyncManager"],[25,26,21,24],[25,27,21,25],[26,4,22,10,"syncInterval"],[26,16,22,22],[26,19,22,48],[26,23,22,52],[27,4,23,10,"isOnline"],[27,12,23,18],[27,15,23,30],[27,19,23,34],[28,4,24,10,"onStatusUpdateCallback"],[28,26,24,32],[28,29,24,67],[28,33,24,71],[29,4,25,10,"initialized"],[29,15,25,21],[29,18,25,33],[29,23,25,38],[30,4,27,2,"constructor"],[30,15,27,13,"constructor"],[30,16,27,13],[30,18,27,16],[31,6,28,4],[32,6,29,4,"setTimeout"],[32,16,29,14],[32,17,29,15],[32,23,29,21],[32,27,29,25],[32,28,29,26,"initializeNetworkListener"],[32,53,29,51],[32,54,29,52],[32,55,29,53],[32,57,29,55],[32,60,29,58],[32,61,29,59],[33,4,30,2],[34,4,32,10,"initializeNetworkListener"],[34,29,32,35,"initializeNetworkListener"],[34,30,32,35],[34,32,32,38],[35,6,33,4],[35,10,33,8],[36,8,34,6],[37,8,35,6,"NetInfo"],[37,15,35,13],[37,16,35,13,"default"],[37,23,35,13],[37,24,35,14,"addEventListener"],[37,40,35,30],[37,41,35,31,"state"],[37,46,35,36],[37,50,35,40],[38,10,36,8],[38,16,36,14,"wasOffline"],[38,26,36,24],[38,29,36,27],[38,30,36,28],[38,34,36,32],[38,35,36,33,"isOnline"],[38,43,36,41],[39,10,37,8],[39,14,37,12],[39,15,37,13,"isOnline"],[39,23,37,21],[39,26,37,24,"state"],[39,31,37,29],[39,32,37,30,"isConnected"],[39,43,37,41],[39,47,37,45],[39,52,37,50],[40,10,39,8,"console"],[40,17,39,15],[40,18,39,16,"log"],[40,21,39,19],[40,22,39,20],[40,53,39,51],[40,55,39,53],[40,59,39,57],[40,60,39,58,"isOnline"],[40,68,39,66],[40,71,39,69],[40,79,39,77],[40,82,39,80],[40,91,39,89],[40,92,39,90],[42,10,41,8],[43,10,42,8],[43,14,42,12,"wasOffline"],[43,24,42,22],[43,28,42,26],[43,32,42,30],[43,33,42,31,"isOnline"],[43,41,42,39],[43,43,42,41],[44,12,43,10,"console"],[44,19,43,17],[44,20,43,18,"log"],[44,23,43,21],[44,24,43,22],[44,72,43,70],[44,73,43,71],[45,12,44,10],[45,16,44,14],[45,17,44,15,"syncAll"],[45,24,44,22],[45,25,44,23],[45,26,44,24],[46,10,45,8],[47,8,46,6],[47,9,46,7],[47,10,46,8],[48,8,47,6],[48,12,47,10],[48,13,47,11,"initialized"],[48,24,47,22],[48,27,47,25],[48,31,47,29],[49,6,48,4],[49,7,48,5],[49,8,48,6],[49,15,48,13,"error"],[49,20,48,18],[49,22,48,20],[50,8,49,6,"console"],[50,15,49,13],[50,16,49,14,"log"],[50,19,49,17],[50,20,49,18],[50,74,49,72],[50,76,49,74,"error"],[50,81,49,79],[50,82,49,80],[51,8,50,6],[52,8,51,6],[52,12,51,10],[52,13,51,11,"isOnline"],[52,21,51,19],[52,24,51,22],[52,28,51,26],[53,8,52,6],[53,12,52,10],[53,13,52,11,"initialized"],[53,24,52,22],[53,27,52,25],[53,31,52,29],[54,6,53,4],[55,4,54,2],[56,4,56,2],[56,10,56,8,"getCachedStatus"],[56,25,56,23,"getCachedStatus"],[56,26,56,24,"clientId"],[56,34,56,40],[56,36,56,72],[57,6,57,4],[57,10,57,8],[58,8,58,6],[58,14,58,12,"cached"],[58,20,58,18],[58,23,58,21],[58,29,58,27,"AsyncStorage"],[58,41,58,39],[58,42,58,39,"default"],[58,49,58,39],[58,50,58,40,"getItem"],[58,57,58,47],[58,58,58,48],[58,61,58,51,"CACHE_KEY_PREFIX"],[58,77,58,67],[58,80,58,70,"clientId"],[58,88,58,78],[58,90,58,80],[58,91,58,81],[59,8,59,6],[59,12,59,10,"cached"],[59,18,59,16],[59,20,59,18],[60,10,60,8],[60,17,60,15,"JSON"],[60,21,60,19],[60,22,60,20,"parse"],[60,27,60,25],[60,28,60,26,"cached"],[60,34,60,32],[60,35,60,33],[61,8,61,6],[62,6,62,4],[62,7,62,5],[62,8,62,6],[62,15,62,13,"error"],[62,20,62,18],[62,22,62,20],[63,8,63,6,"console"],[63,15,63,13],[63,16,63,14,"error"],[63,21,63,19],[63,22,63,20],[63,58,63,56],[63,60,63,58,"error"],[63,65,63,63],[63,66,63,64],[64,6,64,4],[65,6,65,4],[65,13,65,11],[65,17,65,15],[66,4,66,2],[67,4,68,2],[67,10,68,8,"setCachedStatus"],[67,25,68,23,"setCachedStatus"],[67,26,68,24,"clientId"],[67,34,68,40],[67,36,68,42,"status"],[67,42,68,53],[67,44,68,55],[68,6,69,4],[68,10,69,8],[69,8,70,6],[69,14,70,12,"cached"],[69,20,70,32],[69,23,70,35],[70,10,71,8,"is_locked"],[70,19,71,17],[70,21,71,19,"status"],[70,27,71,25],[70,28,71,26,"is_locked"],[70,37,71,35],[71,10,72,8,"lock_message"],[71,22,72,20],[71,24,72,22,"status"],[71,30,72,28],[71,31,72,29,"lock_message"],[71,43,72,41],[71,47,72,45],[71,49,72,47],[72,10,73,8,"warning_message"],[72,25,73,23],[72,27,73,25,"status"],[72,33,73,31],[72,34,73,32,"warning_message"],[72,49,73,47],[72,53,73,51],[72,55,73,53],[73,10,74,8,"last_sync"],[73,19,74,17],[73,21,74,19,"Date"],[73,25,74,23],[73,26,74,24,"now"],[73,29,74,27],[73,30,74,28],[73,31,74,29],[74,10,75,8,"pending_actions"],[74,25,75,23],[74,27,75,25],[75,8,76,6],[75,9,76,7],[76,8,78,6],[76,14,78,12,"AsyncStorage"],[76,26,78,24],[76,27,78,24,"default"],[76,34,78,24],[76,35,78,25,"setItem"],[76,42,78,32],[76,43,78,33],[76,46,78,36,"CACHE_KEY_PREFIX"],[76,62,78,52],[76,65,78,55,"clientId"],[76,73,78,63],[76,75,78,65],[76,77,78,67,"JSON"],[76,81,78,71],[76,82,78,72,"stringify"],[76,91,78,81],[76,92,78,82,"cached"],[76,98,78,88],[76,99,78,89],[76,100,78,90],[77,8,79,6,"console"],[77,15,79,13],[77,16,79,14,"log"],[77,19,79,17],[77,20,79,18],[77,62,79,60],[77,63,79,61],[78,6,80,4],[78,7,80,5],[78,8,80,6],[78,15,80,13,"error"],[78,20,80,18],[78,22,80,20],[79,8,81,6,"console"],[79,15,81,13],[79,16,81,14,"error"],[79,21,81,19],[79,22,81,20],[79,59,81,57],[79,61,81,59,"error"],[79,66,81,64],[79,67,81,65],[80,6,82,4],[81,4,83,2],[82,4,85,2],[82,10,85,8,"addPendingAction"],[82,26,85,24,"addPendingAction"],[82,27,85,25,"clientId"],[82,35,85,41],[82,37,85,43,"action"],[82,43,85,64],[82,45,85,66],[83,6,86,4],[83,10,86,8],[84,8,87,6],[84,14,87,12,"cached"],[84,20,87,18],[84,23,87,21],[84,29,87,27],[84,33,87,31],[84,34,87,32,"getCachedStatus"],[84,49,87,47],[84,50,87,48,"clientId"],[84,58,87,56],[84,59,87,57],[85,8,88,6],[85,12,88,10,"cached"],[85,18,88,16],[85,20,88,18],[86,10,89,8,"cached"],[86,16,89,14],[86,17,89,15,"pending_actions"],[86,32,89,30],[86,33,89,31,"push"],[86,37,89,35],[86,38,89,36,"action"],[86,44,89,42],[86,45,89,43],[87,10,90,8],[87,16,90,14,"AsyncStorage"],[87,28,90,26],[87,29,90,26,"default"],[87,36,90,26],[87,37,90,27,"setItem"],[87,44,90,34],[87,45,90,35],[87,48,90,38,"CACHE_KEY_PREFIX"],[87,64,90,54],[87,67,90,57,"clientId"],[87,75,90,65],[87,77,90,67],[87,79,90,69,"JSON"],[87,83,90,73],[87,84,90,74,"stringify"],[87,93,90,83],[87,94,90,84,"cached"],[87,100,90,90],[87,101,90,91],[87,102,90,92],[88,10,91,8,"console"],[88,17,91,15],[88,18,91,16,"log"],[88,21,91,19],[88,22,91,20],[88,60,91,58],[88,62,91,60,"action"],[88,68,91,66],[88,69,91,67,"type"],[88,73,91,71],[88,74,91,72],[89,8,92,6],[90,6,93,4],[90,7,93,5],[90,8,93,6],[90,15,93,13,"error"],[90,20,93,18],[90,22,93,20],[91,8,94,6,"console"],[91,15,94,13],[91,16,94,14,"error"],[91,21,94,19],[91,22,94,20],[91,66,94,64],[91,68,94,66,"error"],[91,73,94,71],[91,74,94,72],[92,6,95,4],[93,4,96,2],[94,4,98,2],[94,10,98,8,"syncStatus"],[94,20,98,18,"syncStatus"],[94,21,98,19,"clientId"],[94,29,98,35],[94,31,98,37,"apiUrl"],[94,37,98,51],[94,39,98,67],[95,6,99,4],[95,10,99,8],[96,8,100,6],[97,8,101,6],[97,14,101,12,"netState"],[97,22,101,20],[97,25,101,23],[97,31,101,29,"NetInfo"],[97,38,101,36],[97,39,101,36,"default"],[97,46,101,36],[97,47,101,37,"fetch"],[97,52,101,42],[97,53,101,43],[97,54,101,44],[98,8,102,6],[98,12,102,10],[98,13,102,11,"netState"],[98,21,102,19],[98,22,102,20,"isConnected"],[98,33,102,31],[98,35,102,33],[99,10,103,8,"console"],[99,17,103,15],[99,18,103,16,"log"],[99,21,103,19],[99,22,103,20],[99,67,103,65],[99,68,103,66],[100,10,104,8],[100,16,104,14,"cached"],[100,22,104,20],[100,25,104,23],[100,31,104,29],[100,35,104,33],[100,36,104,34,"getCachedStatus"],[100,51,104,49],[100,52,104,50,"clientId"],[100,60,104,58],[100,61,104,59],[101,10,105,8],[101,14,105,12,"cached"],[101,20,105,18],[101,22,105,20],[102,12,106,10],[102,19,106,17],[103,14,107,12,"is_locked"],[103,23,107,21],[103,25,107,23,"cached"],[103,31,107,29],[103,32,107,30,"is_locked"],[103,41,107,39],[104,14,108,12,"lock_message"],[104,26,108,24],[104,28,108,26,"cached"],[104,34,108,32],[104,35,108,33,"lock_message"],[104,47,108,45],[105,14,109,12,"warning_message"],[105,29,109,27],[105,31,109,29,"cached"],[105,37,109,35],[105,38,109,36,"warning_message"],[105,53,109,51],[106,14,110,12,"offline"],[106,21,110,19],[106,23,110,21],[107,12,111,10],[107,13,111,11],[108,10,112,8],[109,10,113,8],[109,16,113,14],[109,20,113,18,"Error"],[109,25,113,23],[109,26,113,24],[109,52,113,50],[109,53,113,51],[110,8,114,6],[112,8,116,6],[113,8,117,6],[113,14,117,12,"response"],[113,22,117,20],[113,25,117,23],[113,31,117,29,"fetch"],[113,36,117,34],[113,37,117,35],[113,40,117,38,"apiUrl"],[113,46,117,44],[113,68,117,66,"clientId"],[113,76,117,74],[113,78,117,76],[113,80,117,78],[114,10,118,8,"method"],[114,16,118,14],[114,18,118,16],[114,23,118,21],[115,10,119,8,"headers"],[115,17,119,15],[115,19,119,17],[116,12,119,19],[116,26,119,33],[116,28,119,35],[117,10,119,54],[118,8,120,6],[118,9,120,7],[118,10,120,8],[119,8,122,6],[119,12,122,10],[119,13,122,11,"response"],[119,21,122,19],[119,22,122,20,"ok"],[119,24,122,22],[119,26,122,24],[120,10,123,8],[120,16,123,14],[120,20,123,18,"Error"],[120,25,123,23],[120,26,123,24],[120,50,123,48],[120,51,123,49],[121,8,124,6],[122,8,126,6],[122,14,126,12,"status"],[122,20,126,18],[122,23,126,21],[122,29,126,27,"response"],[122,37,126,35],[122,38,126,36,"json"],[122,42,126,40],[122,43,126,41],[122,44,126,42],[124,8,128,6],[125,8,129,6],[125,14,129,12],[125,18,129,16],[125,19,129,17,"setCachedStatus"],[125,34,129,32],[125,35,129,33,"clientId"],[125,43,129,41],[125,45,129,43,"status"],[125,51,129,49],[125,52,129,50],[127,8,131,6],[128,8,132,6],[128,14,132,12],[128,18,132,16],[128,19,132,17,"processPendingActions"],[128,40,132,38],[128,41,132,39,"clientId"],[128,49,132,47],[128,51,132,49,"apiUrl"],[128,57,132,55],[128,58,132,56],[129,8,134,6],[129,15,134,13],[130,10,134,15],[130,13,134,18,"status"],[130,19,134,24],[131,10,134,26,"offline"],[131,17,134,33],[131,19,134,35],[132,8,134,41],[132,9,134,42],[133,6,135,4],[133,7,135,5],[133,8,135,6],[133,15,135,13,"error"],[133,20,135,18],[133,22,135,20],[134,8,136,6,"console"],[134,15,136,13],[134,16,136,14,"error"],[134,21,136,19],[134,22,136,20],[134,49,136,47],[134,51,136,49,"error"],[134,56,136,54],[134,57,136,55],[136,8,138,6],[137,8,139,6],[137,14,139,12,"cached"],[137,20,139,18],[137,23,139,21],[137,29,139,27],[137,33,139,31],[137,34,139,32,"getCachedStatus"],[137,49,139,47],[137,50,139,48,"clientId"],[137,58,139,56],[137,59,139,57],[138,8,140,6],[138,12,140,10,"cached"],[138,18,140,16],[138,20,140,18],[139,10,141,8],[139,17,141,15],[140,12,142,10,"is_locked"],[140,21,142,19],[140,23,142,21,"cached"],[140,29,142,27],[140,30,142,28,"is_locked"],[140,39,142,37],[141,12,143,10,"lock_message"],[141,24,143,22],[141,26,143,24,"cached"],[141,32,143,30],[141,33,143,31,"lock_message"],[141,45,143,43],[142,12,144,10,"warning_message"],[142,27,144,25],[142,29,144,27,"cached"],[142,35,144,33],[142,36,144,34,"warning_message"],[142,51,144,49],[143,12,145,10,"offline"],[143,19,145,17],[143,21,145,19],[144,10,146,8],[144,11,146,9],[145,8,147,6],[146,8,149,6],[146,14,149,12,"error"],[146,19,149,17],[147,6,150,4],[148,4,151,2],[149,4,153,2],[149,10,153,8,"processPendingActions"],[149,31,153,29,"processPendingActions"],[149,32,153,30,"clientId"],[149,40,153,46],[149,42,153,48,"apiUrl"],[149,48,153,62],[149,50,153,64],[150,6,154,4],[150,10,154,8],[151,8,155,6],[151,14,155,12,"cached"],[151,20,155,18],[151,23,155,21],[151,29,155,27],[151,33,155,31],[151,34,155,32,"getCachedStatus"],[151,49,155,47],[151,50,155,48,"clientId"],[151,58,155,56],[151,59,155,57],[152,8,156,6],[152,12,156,10],[152,13,156,11,"cached"],[152,19,156,17],[152,23,156,21,"cached"],[152,29,156,27],[152,30,156,28,"pending_actions"],[152,45,156,43],[152,46,156,44,"length"],[152,52,156,50],[152,57,156,55],[152,58,156,56],[152,60,156,58],[153,10,157,8],[154,8,158,6],[155,8,160,6,"console"],[155,15,160,13],[155,16,160,14,"log"],[155,19,160,17],[155,20,160,18],[155,48,160,46,"cached"],[155,54,160,52],[155,55,160,53,"pending_actions"],[155,70,160,68],[155,71,160,69,"length"],[155,77,160,75],[155,95,160,93],[155,96,160,94],[156,8,162,6],[156,13,162,11],[156,19,162,17,"action"],[156,25,162,23],[156,29,162,27,"cached"],[156,35,162,33],[156,36,162,34,"pending_actions"],[156,51,162,49],[156,53,162,51],[157,10,163,8],[157,14,163,12],[158,12,164,10],[158,20,164,18,"action"],[158,26,164,24],[158,27,164,25,"type"],[158,31,164,29],[159,14,165,12],[159,19,165,17],[159,29,165,27],[160,16,166,14],[160,22,166,20,"fetch"],[160,27,166,25],[160,28,166,26],[160,31,166,29,"apiUrl"],[160,37,166,35],[160,59,166,57],[160,61,166,59],[161,18,167,16,"method"],[161,24,167,22],[161,26,167,24],[161,32,167,30],[162,18,168,16,"headers"],[162,25,168,23],[162,27,168,25],[163,20,168,27],[163,34,168,41],[163,36,168,43],[164,18,168,62],[164,19,168,63],[165,18,169,16,"body"],[165,22,169,20],[165,24,169,22,"JSON"],[165,28,169,26],[165,29,169,27,"stringify"],[165,38,169,36],[165,39,169,37],[166,20,170,18,"client_id"],[166,29,170,27],[166,31,170,29,"clientId"],[166,39,170,37],[167,20,171,18],[167,23,171,21,"action"],[167,29,171,27],[167,30,171,28,"data"],[168,18,172,16],[168,19,172,17],[169,16,173,14],[169,17,173,15],[169,18,173,16],[170,16,174,14],[171,14,176,12],[171,19,176,17],[171,27,176,25],[172,16,177,14],[172,22,177,20,"fetch"],[172,27,177,25],[172,28,177,26],[172,31,177,29,"apiUrl"],[172,37,177,35],[172,53,177,51,"clientId"],[172,61,177,59],[172,91,177,89,"action"],[172,97,177,95],[172,98,177,96,"data"],[172,102,177,100],[172,103,177,101,"type"],[172,107,177,105],[172,109,177,107],[172,111,177,109],[173,18,178,16,"method"],[173,24,178,22],[173,26,178,24],[174,16,179,14],[174,17,179,15],[174,18,179,16],[175,16,180,14],[176,14,182,12],[176,19,182,17],[176,27,182,25],[177,16,183,14],[177,22,183,20,"fetch"],[177,27,183,25],[177,28,183,26],[177,31,183,29,"apiUrl"],[177,37,183,35],[177,53,183,51,"clientId"],[177,61,183,59],[177,77,183,75],[177,79,183,77],[178,18,184,16,"method"],[178,24,184,22],[178,26,184,24],[179,16,185,14],[179,17,185,15],[179,18,185,16],[180,16,186,14],[181,12,187,10],[182,12,189,10,"console"],[182,19,189,17],[182,20,189,18,"log"],[182,23,189,21],[182,24,189,22],[182,64,189,62,"action"],[182,70,189,68],[182,71,189,69,"type"],[182,75,189,73],[182,77,189,75],[182,78,189,76],[183,10,190,8],[183,11,190,9],[183,12,190,10],[183,19,190,17,"error"],[183,24,190,22],[183,26,190,24],[184,12,191,10,"console"],[184,19,191,17],[184,20,191,18,"error"],[184,25,191,23],[184,26,191,24],[184,65,191,63,"action"],[184,71,191,69],[184,72,191,70,"type"],[184,76,191,74],[184,79,191,77],[184,81,191,79,"error"],[184,86,191,84],[184,87,191,85],[185,10,192,8],[186,8,193,6],[188,8,195,6],[189,8,196,6,"cached"],[189,14,196,12],[189,15,196,13,"pending_actions"],[189,30,196,28],[189,33,196,31],[189,35,196,33],[190,8,197,6],[190,14,197,12,"AsyncStorage"],[190,26,197,24],[190,27,197,24,"default"],[190,34,197,24],[190,35,197,25,"setItem"],[190,42,197,32],[190,43,197,33],[190,46,197,36,"CACHE_KEY_PREFIX"],[190,62,197,52],[190,65,197,55,"clientId"],[190,73,197,63],[190,75,197,65],[190,77,197,67,"JSON"],[190,81,197,71],[190,82,197,72,"stringify"],[190,91,197,81],[190,92,197,82,"cached"],[190,98,197,88],[190,99,197,89],[190,100,197,90],[191,6,199,4],[191,7,199,5],[191,8,199,6],[191,15,199,13,"error"],[191,20,199,18],[191,22,199,20],[192,8,200,6,"console"],[192,15,200,13],[192,16,200,14,"error"],[192,21,200,19],[192,22,200,20],[192,71,200,69],[192,73,200,71,"error"],[192,78,200,76],[192,79,200,77],[193,6,201,4],[194,4,202,2],[195,4,204,2],[195,10,204,8,"syncAll"],[195,17,204,15,"syncAll"],[195,18,204,15],[195,20,204,18],[196,6,205,4],[197,6,206,4,"console"],[197,13,206,11],[197,14,206,12,"log"],[197,17,206,15],[197,18,206,16],[197,61,206,59],[197,62,206,60],[198,6,208,4],[198,10,208,8],[199,8,209,6],[200,8,210,6],[200,14,210,12,"keys"],[200,18,210,16],[200,21,210,19],[200,27,210,25,"AsyncStorage"],[200,39,210,37],[200,40,210,37,"default"],[200,47,210,37],[200,48,210,38,"getAllKeys"],[200,58,210,48],[200,59,210,49],[200,60,210,50],[201,8,211,6],[201,14,211,12,"cacheKeys"],[201,23,211,21],[201,26,211,24,"keys"],[201,30,211,28],[201,31,211,29,"filter"],[201,37,211,35],[201,38,211,36,"key"],[201,41,211,39],[201,45,211,43,"key"],[201,48,211,46],[201,49,211,47,"startsWith"],[201,59,211,57],[201,60,211,58,"CACHE_KEY_PREFIX"],[201,76,211,74],[201,77,211,75],[201,78,211,76],[202,8,213,6],[202,13,213,11],[202,19,213,17,"key"],[202,22,213,20],[202,26,213,24,"cacheKeys"],[202,35,213,33],[202,37,213,35],[203,10,214,8],[203,16,214,14,"clientId"],[203,24,214,22],[203,27,214,25,"key"],[203,30,214,28],[203,31,214,29,"replace"],[203,38,214,36],[203,39,214,37,"CACHE_KEY_PREFIX"],[203,55,214,53],[203,57,214,55],[203,59,214,57],[203,60,214,58],[204,10,215,8],[205,10,216,8],[206,8,217,6],[207,6,218,4],[207,7,218,5],[207,8,218,6],[207,15,218,13,"error"],[207,20,218,18],[207,22,218,20],[208,8,219,6,"console"],[208,15,219,13],[208,16,219,14,"error"],[208,21,219,19],[208,22,219,20],[208,56,219,54],[208,58,219,56,"error"],[208,63,219,61],[208,64,219,62],[209,6,220,4],[210,4,221,2],[211,4,223,2,"startPeriodicSync"],[211,21,223,19,"startPeriodicSync"],[211,22,223,20,"clientId"],[211,30,223,36],[211,32,223,38,"apiUrl"],[211,38,223,52],[211,40,223,54,"onUpdate"],[211,48,223,85],[211,50,223,87],[212,6,224,4],[212,10,224,8],[212,11,224,9,"onStatusUpdateCallback"],[212,33,224,31],[212,36,224,34,"onUpdate"],[212,44,224,42],[214,6,226,4],[215,6,227,4],[215,10,227,8],[215,14,227,12],[215,15,227,13,"syncInterval"],[215,27,227,25],[215,29,227,27],[216,8,228,6,"clearInterval"],[216,21,228,19],[216,22,228,20],[216,26,228,24],[216,27,228,25,"syncInterval"],[216,39,228,37],[216,40,228,38],[217,6,229,4],[219,6,231,4],[220,6,232,4],[220,10,232,8],[220,11,232,9,"syncStatus"],[220,21,232,19],[220,22,232,20,"clientId"],[220,30,232,28],[220,32,232,30,"apiUrl"],[220,38,232,36],[220,39,232,37],[220,40,232,38,"then"],[220,44,232,42],[220,45,232,43,"status"],[220,51,232,49],[220,55,232,53],[221,8,233,6,"onUpdate"],[221,16,233,14],[221,17,233,15,"status"],[221,23,233,21],[221,24,233,22],[222,6,234,4],[222,7,234,5],[222,8,234,6],[224,6,236,4],[225,6,237,4],[225,10,237,8],[225,11,237,9,"syncInterval"],[225,23,237,21],[225,26,237,24,"setInterval"],[225,37,237,35],[225,38,237,36],[225,50,237,48],[226,8,238,6],[226,12,238,10],[227,10,239,8],[227,16,239,14,"status"],[227,22,239,20],[227,25,239,23],[227,31,239,29],[227,35,239,33],[227,36,239,34,"syncStatus"],[227,46,239,44],[227,47,239,45,"clientId"],[227,55,239,53],[227,57,239,55,"apiUrl"],[227,63,239,61],[227,64,239,62],[228,10,240,8,"onUpdate"],[228,18,240,16],[228,19,240,17,"status"],[228,25,240,23],[228,26,240,24],[229,8,241,6],[229,9,241,7],[229,10,241,8],[229,17,241,15,"error"],[229,22,241,20],[229,24,241,22],[230,10,242,8,"console"],[230,17,242,15],[230,18,242,16,"error"],[230,23,242,21],[230,24,242,22],[230,60,242,58],[230,62,242,60,"error"],[230,67,242,65],[230,68,242,66],[231,8,243,6],[232,6,244,4],[232,7,244,5],[232,9,244,7,"SYNC_INTERVAL"],[232,22,244,20],[232,23,244,21],[233,6,246,4,"console"],[233,13,246,11],[233,14,246,12,"log"],[233,17,246,15],[233,18,246,16],[233,55,246,53],[233,56,246,54],[234,4,247,2],[235,4,249,2,"stopPeriodicSync"],[235,20,249,18,"stopPeriodicSync"],[235,21,249,18],[235,23,249,21],[236,6,250,4],[236,10,250,8],[236,14,250,12],[236,15,250,13,"syncInterval"],[236,27,250,25],[236,29,250,27],[237,8,251,6,"clearInterval"],[237,21,251,19],[237,22,251,20],[237,26,251,24],[237,27,251,25,"syncInterval"],[237,39,251,37],[237,40,251,38],[238,8,252,6],[238,12,252,10],[238,13,252,11,"syncInterval"],[238,25,252,23],[238,28,252,26],[238,32,252,30],[239,8,253,6,"console"],[239,15,253,13],[239,16,253,14,"log"],[239,19,253,17],[239,20,253,18],[239,57,253,55],[239,58,253,56],[240,6,254,4],[241,4,255,2],[242,4,257,2],[242,10,257,8,"reportLocationOffline"],[242,31,257,29,"reportLocationOffline"],[242,32,257,30,"clientId"],[242,40,257,46],[242,42,257,48,"latitude"],[242,50,257,64],[242,52,257,66,"longitude"],[242,61,257,83],[242,63,257,85],[243,6,258,4],[243,12,258,10,"action"],[243,18,258,31],[243,21,258,34],[244,8,259,6,"type"],[244,12,259,10],[244,14,259,12],[244,24,259,22],[245,8,260,6,"timestamp"],[245,17,260,15],[245,19,260,17,"Date"],[245,23,260,21],[245,24,260,22,"now"],[245,27,260,25],[245,28,260,26],[245,29,260,27],[246,8,261,6,"data"],[246,12,261,10],[246,14,261,12],[247,10,261,14,"latitude"],[247,18,261,22],[248,10,261,24,"longitude"],[249,8,261,34],[250,6,262,4],[250,7,262,5],[251,6,263,4],[251,12,263,10],[251,16,263,14],[251,17,263,15,"addPendingAction"],[251,33,263,31],[251,34,263,32,"clientId"],[251,42,263,40],[251,44,263,42,"action"],[251,50,263,48],[251,51,263,49],[252,4,264,2],[253,4,266,2],[253,10,266,8,"reportTamperOffline"],[253,29,266,27,"reportTamperOffline"],[253,30,266,28,"clientId"],[253,38,266,44],[253,40,266,46,"tamperType"],[253,50,266,64],[253,52,266,66],[254,6,267,4],[254,12,267,10,"action"],[254,18,267,31],[254,21,267,34],[255,8,268,6,"type"],[255,12,268,10],[255,14,268,12],[255,22,268,20],[256,8,269,6,"timestamp"],[256,17,269,15],[256,19,269,17,"Date"],[256,23,269,21],[256,24,269,22,"now"],[256,27,269,25],[256,28,269,26],[256,29,269,27],[257,8,270,6,"data"],[257,12,270,10],[257,14,270,12],[258,10,270,14,"type"],[258,14,270,18],[258,16,270,20,"tamperType"],[259,8,270,31],[260,6,271,4],[260,7,271,5],[261,6,272,4],[261,12,272,10],[261,16,272,14],[261,17,272,15,"addPendingAction"],[261,33,272,31],[261,34,272,32,"clientId"],[261,42,272,40],[261,44,272,42,"action"],[261,50,272,48],[261,51,272,49],[262,4,273,2],[263,4,275,2],[263,10,275,8,"reportRebootOffline"],[263,29,275,27,"reportRebootOffline"],[263,30,275,28,"clientId"],[263,38,275,44],[263,40,275,46],[264,6,276,4],[264,12,276,10,"action"],[264,18,276,31],[264,21,276,34],[265,8,277,6,"type"],[265,12,277,10],[265,14,277,12],[265,22,277,20],[266,8,278,6,"timestamp"],[266,17,278,15],[266,19,278,17,"Date"],[266,23,278,21],[266,24,278,22,"now"],[266,27,278,25],[266,28,278,26],[267,6,279,4],[267,7,279,5],[268,6,280,4],[268,12,280,10],[268,16,280,14],[268,17,280,15,"addPendingAction"],[268,33,280,31],[268,34,280,32,"clientId"],[268,42,280,40],[268,44,280,42,"action"],[268,50,280,48],[268,51,280,49],[269,4,281,2],[270,4,283,2,"isDeviceOnline"],[270,18,283,16,"isDeviceOnline"],[270,19,283,16],[270,21,283,28],[271,6,284,4],[271,13,284,11],[271,17,284,15],[271,18,284,16,"isOnline"],[271,26,284,24],[272,4,285,2],[273,2,286,0],[275,2,288,0],[276,2,289,0],[276,6,289,0,"_default"],[276,14,289,0],[276,17,289,15],[276,21,289,19,"OfflineSyncManager"],[276,39,289,37],[276,40,289,38],[276,41,289,39],[277,0,289,40],[277,3]],"functionMap":{"names":["<global>","OfflineSyncManager","constructor","setTimeout$argument_0","initializeNetworkListener","NetInfo.addEventListener$argument_0","getCachedStatus","setCachedStatus","addPendingAction","syncStatus","processPendingActions","syncAll","keys.filter$argument_0","startPeriodicSync","syncStatus.then$argument_0","setInterval$argument_0","stopPeriodicSync","reportLocationOffline","reportTamperOffline","reportRebootOffline","isDeviceOnline"],"mappings":"AAA;ACoB;ECM;eCE,sCD;GDC;EGE;+BCG;ODW;GHQ;EKE;GLU;EME;GNe;EOE;GPW;EQE;GRqD;ESE;GTiD;EUE;oCCO,uCD;GVU;EYE;2CCS;KDE;oCEG;KFO;GZG;EeE;GfM;EgBE;GhBO;EiBE;GjBO;EkBE;GlBM;EmBE;GnBE;CDC"},"hasCjsExports":false},"type":"js/module"}]}