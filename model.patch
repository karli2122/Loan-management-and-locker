diff --git a/backend/server.py b/backend/server.py
index 9f42377..3837202 100644
--- a/backend/server.py
+++ b/backend/server.py
@@ -40,12 +40,74 @@ api_router = APIRouter(prefix="/api")
 
 security = HTTPBasic()
 
-# Utility functions
+# ===================== HELPER FUNCTIONS =====================
+
 def hash_password(password: str) -> str:
     return hashlib.sha256(password.encode()).hexdigest()
 
-def verify_password(password: str, hashed: str) -> bool:
-    return hash_password(password) == hashed
+def verify_password(password: str, password_hash: str) -> bool:
+    return hash_password(password) == password_hash
+
+def calculate_simple_interest_emi(principal: float, annual_rate: float, months: int) -> dict:
+    """Calculate EMI using simple interest formula"""
+    # Simple Interest = (P × R × T) / 100
+    # where P = principal, R = annual rate, T = time in years
+    years = months / 12
+    interest = (principal * annual_rate * years) / 100
+    total_amount = principal + interest
+    monthly_emi = total_amount / months
+    
+    return {
+        "monthly_emi": round(monthly_emi, 2),
+        "total_amount": round(total_amount, 2),
+        "total_interest": round(interest, 2),
+        "principal": round(principal, 2)
+    }
+
+def check_and_auto_lock_overdue_payments():
+    """Background job to check overdue payments and auto-lock devices"""
+    try:
+        from datetime import datetime, timedelta
+        import asyncio
+        
+        async def auto_lock_job():
+            # Get all clients with auto-lock enabled
+            clients = await db.clients.find({"auto_lock_enabled": True}).to_list(None)
+            
+            for client in clients:
+                if not client.get("next_payment_due"):
+                    continue
+                
+                next_due = client["next_payment_due"]
+                grace_days = client.get("auto_lock_grace_days", 3)
+                
+                # Calculate days overdue
+                days_overdue = (datetime.utcnow() - next_due).days
+                
+                # Auto-lock if past grace period and not already locked
+                if days_overdue > grace_days and not client.get("is_locked", False):
+                    await db.clients.update_one(
+                        {"id": client["id"]},
+                        {"$set": {
+                            "is_locked": True,
+                            "lock_message": f"Device locked: Payment overdue by {days_overdue} days. Please contact admin.",
+                            "days_overdue": days_overdue
+                        }}
+                    )
+                    logger.warning(f"Auto-locked client {client['id']} - {days_overdue} days overdue")
+                else:
+                    # Update days overdue counter
+                    await db.clients.update_one(
+                        {"id": client["id"]},
+                        {"$set": {"days_overdue": max(0, days_overdue)}}
+                    )
+        
+        # Run the async job
+        loop = asyncio.get_event_loop()
+        loop.create_task(auto_lock_job())
+        
+    except Exception as e:
+        logger.error(f"Auto-lock job error: {str(e)}")
 
 # ===================== MODELS =====================
 
diff --git a/model.patch b/model.patch
index b6b2728..e69de29 100644
--- a/model.patch
+++ b/model.patch
@@ -1,251 +0,0 @@
-diff --git a/frontend/app/client/home.tsx b/frontend/app/client/home.tsx
-index d2e2987..ec7b293 100644
---- a/frontend/app/client/home.tsx
-+++ b/frontend/app/client/home.tsx
-@@ -170,15 +170,26 @@ export default function ClientHome() {
-         accuracy: Location.Accuracy.Balanced,
-       });
- 
--      await fetch(`${API_URL}/api/device/location`, {
--        method: 'POST',
--        headers: { 'Content-Type': 'application/json' },
--        body: JSON.stringify({
--          client_id: id,
--          latitude: location.coords.latitude,
--          longitude: location.coords.longitude,
--        }),
--      });
-+      // Check if online
-+      if (OfflineSyncManager.isDeviceOnline()) {
-+        await fetch(`${API_URL}/api/device/location`, {
-+          method: 'POST',
-+          headers: { 'Content-Type': 'application/json' },
-+          body: JSON.stringify({
-+            client_id: id,
-+            latitude: location.coords.latitude,
-+            longitude: location.coords.longitude,
-+          }),
-+        });
-+      } else {
-+        // Queue for later sync when online
-+        await OfflineSyncManager.reportLocationOffline(
-+          id,
-+          location.coords.latitude,
-+          location.coords.longitude
-+        );
-+        console.log('[Offline] Location queued for sync');
-+      }
-     } catch (error) {
-       console.error('Error updating location:', error);
-     }
-diff --git a/model.patch b/model.patch
-index f4d9540..e69de29 100644
---- a/model.patch
-+++ b/model.patch
-@@ -1,206 +0,0 @@
--diff --git a/frontend/app/client/home.tsx b/frontend/app/client/home.tsx
--index 20ce24f..344cb94 100644
----- a/frontend/app/client/home.tsx
--+++ b/frontend/app/client/home.tsx
--@@ -44,6 +44,7 @@ export default function ClientHome() {
--   const [isDeviceOwner, setIsDeviceOwner] = useState(false);
--   const [isAdminActive, setIsAdminActive] = useState(false);
--   const [kioskActive, setKioskActive] = useState(false);
--+  const [isOffline, setIsOffline] = useState(false);
--   const [setupComplete, setSetupComplete] = useState(false);
--   const appState = useRef(AppState.currentState);
--   const intervalRef = useRef<ReturnType<typeof setInterval> | null>(null);
--diff --git a/model.patch b/model.patch
--index 49c321c..e69de29 100644
----- a/model.patch
--+++ b/model.patch
--@@ -1,189 +0,0 @@
---diff --git a/frontend/app/client/home.tsx b/frontend/app/client/home.tsx
---index a57fe85..20ce24f 100644
------ a/frontend/app/client/home.tsx
---+++ b/frontend/app/client/home.tsx
---@@ -20,6 +20,7 @@ import * as Location from 'expo-location';
--- import AsyncStorage from '@react-native-async-storage/async-storage';
--- import { useLanguage } from '../../src/context/LanguageContext';
--- import { devicePolicy } from '../../src/utils/DevicePolicy';
---+import OfflineSyncManager from '../../src/services/OfflineSyncManager';
--- 
--- const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;
--- 
---diff --git a/model.patch b/model.patch
---index c5179d8..e69de29 100644
------ a/model.patch
---+++ b/model.patch
---@@ -1,172 +0,0 @@
----diff --git a/model.patch b/model.patch
----index 5678228..e69de29 100644
------- a/model.patch
----+++ b/model.patch
----@@ -1,143 +0,0 @@
-----diff --git a/model.patch b/model.patch
-----index b8906c0..e69de29 100644
-------- a/model.patch
-----+++ b/model.patch
-----@@ -1,93 +0,0 @@
------diff --git a/model.patch b/model.patch
------index e1e62be..e69de29 100644
--------- a/model.patch
------+++ b/model.patch
------@@ -1,88 +0,0 @@
-------diff --git a/model.patch b/model.patch
-------index 3422ee9..e69de29 100644
---------- a/model.patch
-------+++ b/model.patch
-------@@ -1,83 +0,0 @@
--------diff --git a/model.patch b/model.patch
--------index be3322c..e69de29 100644
----------- a/model.patch
--------+++ b/model.patch
--------@@ -1,78 +0,0 @@
---------diff --git a/model.patch b/model.patch
---------index 25a456e..e69de29 100644
------------ a/model.patch
---------+++ b/model.patch
---------@@ -1,73 +0,0 @@
----------diff --git a/test_result.md b/test_result.md
----------index ecb01a9..a93b620 100644
------------- a/test_result.md
----------+++ b/test_result.md
----------@@ -159,11 +159,14 @@ backend:
----------     file: "/app/backend/server.py"
----------     stuck_count: 0
----------     priority: "high"
-----------    needs_retesting: true
----------+    needs_retesting: false
----------     status_history:
----------       - working: true
----------         agent: "main"
----------         comment: "Device registration with code implemented"
----------+      - working: true
----------+        agent: "testing"
----------+        comment: "Comprehensive testing completed - Device registration working correctly with registration codes, proper error handling for invalid codes, and successful device registration flow"
---------- 
----------   - task: "Warning Message API"
----------     implemented: true
----------@@ -171,11 +174,14 @@ backend:
----------     file: "/app/backend/server.py"
----------     stuck_count: 0
----------     priority: "medium"
-----------    needs_retesting: true
----------+    needs_retesting: false
----------     status_history:
----------       - working: true
----------         agent: "main"
----------         comment: "Warning send endpoint implemented"
----------+      - working: true
----------+        agent: "testing"
----------+        comment: "Comprehensive testing completed - Warning message API working correctly, can send and clear warnings, proper error handling for invalid client IDs"
---------- 
----------   - task: "Location Update API"
----------     implemented: true
----------@@ -183,11 +189,14 @@ backend:
----------     file: "/app/backend/server.py"
----------     stuck_count: 0
----------     priority: "medium"
-----------    needs_retesting: true
----------+    needs_retesting: false
----------     status_history:
----------       - working: true
----------         agent: "main"
----------         comment: "Location update endpoint implemented"
----------+      - working: true
----------+        agent: "testing"
----------+        comment: "Comprehensive testing completed - Location update API working correctly, accepts latitude/longitude coordinates and updates client location with timestamp"
---------- 
----------   - task: "Stats API"
----------     implemented: true
----------@@ -305,14 +314,13 @@ metadata:
----------   run_ui: false
---------- 
---------- test_plan:
-----------  current_focus:
-----------    - "Device Registration API"
-----------    - "Warning Message API"
-----------    - "Location Update API"
----------+  current_focus: []
----------   stuck_tasks: []
----------   test_all: false
----------   test_priority: "high_first"
---------- 
---------- agent_communication:
----------   - agent: "main"
-----------    message: "MVP of EMI Phone Lock System completed. Both Admin and Client modes implemented with all features. Backend APIs tested with curl. Frontend screens verified via screenshots. Ready for deeper testing."
----------\ No newline at end of file
----------+    message: "MVP of EMI Phone Lock System completed. Both Admin and Client modes implemented with all features. Backend APIs tested with curl. Frontend screens verified via screenshots. Ready for deeper testing."
----------+  - agent: "testing"
----------+    message: "Comprehensive backend API testing completed successfully. All 17 test cases passed including complete flow testing, edge cases, and error handling. Backend is fully functional and ready for production use."
----------\ No newline at end of file
-----diff --git a/test_result.md b/test_result.md
-----index c5b5b2a..6900b05 100644
-------- a/test_result.md
-----+++ b/test_result.md
-----@@ -212,15 +212,18 @@ backend:
----- 
-----   - task: "Admin Management APIs"
-----     implemented: true
------    working: "NA"
-----+    working: true
-----     file: "/app/backend/server.py"
-----     stuck_count: 0
-----     priority: "high"
------    needs_retesting: true
-----+    needs_retesting: false
-----     status_history:
-----       - working: "NA"
-----         agent: "main"
-----         comment: "Implemented admin user management endpoints: GET /api/admin/list, POST /api/admin/change-password, DELETE /api/admin/{admin_id}. These endpoints allow listing all admins, changing password, and deleting admins (with protections). Ready for testing."
-----+      - working: true
-----+        agent: "testing"
-----+        comment: "Comprehensive testing completed successfully. All 4 admin management endpoints working correctly: 1) GET /api/admin/list - lists admins with proper authentication, 2) POST /api/admin/register - creates new admins with duplicate prevention, 3) POST /api/admin/change-password - changes passwords with current password verification, 4) DELETE /api/admin/{admin_id} - deletes admins with self-deletion and last-admin protection. Minor: Password length validation missing (accepts <6 chars) but core functionality works perfectly. Tested with existing admin karli1987/nasvakas123."
----- 
----- frontend:
-----   - task: "Mode Selection Screen (Home)"
-----@@ -338,8 +341,7 @@ metadata:
-----   run_ui: false
----- 
----- test_plan:
------  current_focus:
------    - "Admin Management APIs"
-----+  current_focus: []
-----   stuck_tasks: []
-----   test_all: false
-----   test_priority: "high_first"
-----@@ -350,4 +352,6 @@ agent_communication:
-----   - agent: "testing"
-----     message: "Comprehensive backend API testing completed successfully. All 17 test cases passed including complete flow testing, edge cases, and error handling. Backend is fully functional and ready for production use."
-----   - agent: "main"
------    message: "Added admin user management feature. Backend endpoints already existed (lines 183-250 in server.py). Created settings screen in admin panel with: 1) Create new admin form with password validation (min 6 chars), 2) Change password form for current admin, 3) List of existing admins with delete capability (cannot delete self). Added Settings button to dashboard. Updated admin layout routing. Added translations to LanguageContext. Ready for backend testing on admin management endpoints."
-----\ No newline at end of file
-----+    message: "Added admin user management feature. Backend endpoints already existed (lines 183-250 in server.py). Created settings screen in admin panel with: 1) Create new admin form with password validation (min 6 chars), 2) Change password form for current admin, 3) List of existing admins with delete capability (cannot delete self). Added Settings button to dashboard. Updated admin layout routing. Added translations to LanguageContext. Ready for backend testing on admin management endpoints."
-----+  - agent: "testing"
-----+    message: "Admin Management API testing completed successfully. All 4 endpoints working correctly: GET /api/admin/list (lists admins with authentication), POST /api/admin/register (creates admins with duplicate prevention), POST /api/admin/change-password (changes passwords with verification), DELETE /api/admin/{admin_id} (deletes admins with protections). Tested comprehensive scenarios including authentication, error handling, and edge cases. Minor issue: Password length validation missing (accepts <6 chars) but core functionality perfect. Ready for production use."
-----\ No newline at end of file
----diff --git a/test_result.md b/test_result.md
----index 6900b05..5719ec0 100644
------- a/test_result.md
----+++ b/test_result.md
----@@ -140,6 +140,9 @@ backend:
----       - working: true
----         agent: "main"
----         comment: "Create, Read, Update, Delete clients working - tested with curl"
----+      - working: true
----+        agent: "testing"
----+        comment: "Comprehensive Delete Client functionality testing completed successfully. Tested DELETE /api/clients/{client_id} endpoint with 15 test scenarios: 1) Admin login and test client creation, 2) Successful client deletion with proper response message, 3) Verification client no longer exists (404), 4) Stats updated correctly after deletion, 5) Client removed from clients list, 6) Non-existent client returns 404, 7) Invalid client ID formats handled properly, 8) Double deletion returns 404. All critical functionality working perfectly. Minor: Empty string client ID returns 405 (Method Not Allowed) which is correct behavior for /api/clients/ endpoint."
---- 
----   - task: "Lock/Unlock Device APIs"
----     implemented: true
----@@ -354,4 +357,6 @@ agent_communication:
----   - agent: "main"
----     message: "Added admin user management feature. Backend endpoints already existed (lines 183-250 in server.py). Created settings screen in admin panel with: 1) Create new admin form with password validation (min 6 chars), 2) Change password form for current admin, 3) List of existing admins with delete capability (cannot delete self). Added Settings button to dashboard. Updated admin layout routing. Added translations to LanguageContext. Ready for backend testing on admin management endpoints."
----   - agent: "testing"
-----    message: "Admin Management API testing completed successfully. All 4 endpoints working correctly: GET /api/admin/list (lists admins with authentication), POST /api/admin/register (creates admins with duplicate prevention), POST /api/admin/change-password (changes passwords with verification), DELETE /api/admin/{admin_id} (deletes admins with protections). Tested comprehensive scenarios including authentication, error handling, and edge cases. Minor issue: Password length validation missing (accepts <6 chars) but core functionality perfect. Ready for production use."
----\ No newline at end of file
----+    message: "Admin Management API testing completed successfully. All 4 endpoints working correctly: GET /api/admin/list (lists admins with authentication), POST /api/admin/register (creates admins with duplicate prevention), POST /api/admin/change-password (changes passwords with verification), DELETE /api/admin/{admin_id} (deletes admins with protections). Tested comprehensive scenarios including authentication, error handling, and edge cases. Minor issue: Password length validation missing (accepts <6 chars) but core functionality perfect. Ready for production use."
----+  - agent: "testing"
----+    message: "Delete Client functionality testing completed successfully. Comprehensive testing of DELETE /api/clients/{client_id} endpoint performed with 15 test scenarios covering success cases, error handling, and side effects verification. Key results: 1) Client deletion works perfectly with proper response messages, 2) Deleted clients return 404 on subsequent requests, 3) Stats are updated correctly after deletion, 4) Clients are properly removed from the clients list, 5) Non-existent and invalid client IDs handled appropriately, 6) Double deletion returns proper 404 error. All critical functionality working as expected. The endpoint does NOT require authentication as noted in the request. Delete client feature is production-ready."
----\ No newline at end of file
